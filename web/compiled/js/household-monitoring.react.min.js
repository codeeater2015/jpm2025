var HouseholdMonitoringTable = React.createClass({displayName: "HouseholdMonitoringTable",

    getInitialState: function () {
        return {
            householdData: [],
            householdData2: []
        }
    },

    componentDidMount: function () {
        this.loadData();
    },



    loadData: function () {


        let url = Routing.generate("ajax_get_table_household_monitoring_by_barangay");

        var self = this;
        self.requestHierarchyData = $.ajax({
            url: url,
            type: "GET"
        }).done(function (res) {
            console.log("household data has been received");
            self.setState({ householdData: res });
        });

        
        let url2 = Routing.generate("ajax_get_table_household_monitoring_by_date");

        var self = this;
        self.requestHierarchyData = $.ajax({
            url: url2,
            type: "GET"
        }).done(function (res) {
            console.log("household data has been received");
            self.setState({ householdData2: res });
        });
    },

    printPage: function () {
        console.log('printing');
        $.print("#household_table" /*, options*/);
    },

    render: function () {
        let counter = 0;
        let counter2 =  0;

        return (
            React.createElement("div", null, 
                React.createElement("div", {className: "row"}, 

                React.createElement("div", {className: "col-md-6"}, 
                        React.createElement("h4", null, React.createElement("strong", null, "Monitoring by Date")), 
                        React.createElement("div", {id: "table-container", className: "table-container", style: { marginTop: "20px"}}, 
                            React.createElement("table", {id: "household_table2", className: "table table-striped table-bordered", width: "100%"}, 
                                React.createElement("thead", null, 
                                    React.createElement("tr", null, 
                                        React.createElement("th", null, "No"), 
                                        React.createElement("th", {className: "text-center"}, "Call Date"), 
                                        React.createElement("th", {style: { textAlign: "center"}, className: "text-center"}, "Total")
                                    )
                                ), 
                                React.createElement("tbody", null, 
                                    this.state.householdData2.map(function (item, index) {
                                        counter2 += 1;
                                        return (
                                            React.createElement("tr", null, 
                                                React.createElement("td", {style: { textAlign: "center"}, className: "text-center"}, counter2), 
                                                React.createElement("td", {style: { textAlign: "center"}, className: "text-center"}, item.call_date), 
                                                React.createElement("td", {style: { textAlign: "center"}, className: "text-center"}, item.total_household)
                                            )
                                        )
                                    }), 
                                    this.state.householdData.length == 0 ?
                                        React.createElement("tr", null, 
                                            React.createElement("td", {colSpan: "9", className: "text-center"}, "No records was found...")
                                        )
                                        : ""
                                    
                                )
                            )
                        )
                    ), 

                    React.createElement("div", {className: "col-md-6"}, 
                        React.createElement("h4", null, React.createElement("strong", null, "Monitoring by Barangay")), 
                        React.createElement("div", {id: "table-container", className: "table-container", style: { marginTop: "20px"}}, 
                            React.createElement("table", {id: "household_table", className: "table table-striped table-bordered", width: "100%"}, 
                                React.createElement("thead", null, 
                                    React.createElement("tr", null, 
                                        React.createElement("th", null, "No"), 
                                        React.createElement("th", null, "Municipality"), 
                                        React.createElement("th", {className: "text-center"}, "Barangay"), 
                                        React.createElement("th", {style: { textAlign: "center"}, className: "text-center"}, "Total")
                                    )
                                ), 
                                React.createElement("tbody", null, 
                                    this.state.householdData.map(function (item, index) {
                                        counter += 1;
                                        return (
                                            React.createElement("tr", null, 
                                                React.createElement("td", {style: { textAlign: "center"}, className: "text-center"}, counter), 
                                                React.createElement("td", {style: { textAlign: "center"}, className: "text-center"}, " ", item.municipality_name), 
                                                React.createElement("td", {style: { textAlign: "center"}, className: "text-center"}, item.barangay_name), 
                                                React.createElement("td", {style: { textAlign: "center"}, className: "text-center"}, item.total_household)
                                            )
                                        )
                                    }), 
                                    this.state.householdData.length == 0 ?
                                        React.createElement("tr", null, 
                                            React.createElement("td", {colSpan: "9", className: "text-center"}, "No records was found...")
                                        )
                                        : ""
                                    
                                )
                            )
                        )
                    )
                    

                )
            )
        )
    }
});

window.HouseholdMonitoringTable = HouseholdMonitoringTable;
var HouseholdMonitoringComponent = React.createClass({displayName: "HouseholdMonitoringComponent",

    notify : function(message,color){
        $.notific8('zindex', 11500);
        $.notific8(message, {
            heading: 'System Message',
            color: color,
            life: 5000,
            verticalEdge: 'right',
            horizontalEdge: 'top',
        });
    },

    render : function(){
        return (
            React.createElement("div", {className: "portlet light portlet-fit bordered"}, 
                React.createElement("div", {className: "portlet-body"}, 
                    React.createElement(HouseholdMonitoringTable, null)
                )
            )
        )
    }
});

setTimeout(function(){
    ReactDOM.render(
    React.createElement(HouseholdMonitoringComponent, null),
        document.getElementById('page-container')
    );
},500);
