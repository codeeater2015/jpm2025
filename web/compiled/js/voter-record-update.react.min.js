var VoterHistoryDatatable=React.createClass({displayName:"VoterHistoryDatatable",getInitialState:function(){return{typingTimer:null,doneTypingInterval:1500}},componentDidMount:function(){this.gridTable()},gridTable:function(){var e=this,t=new Datatable,a=$("#voter_history_table");t.init({src:a,dataTable:{bState:!0,autoWidth:!0,serverSide:!0,processing:!0,deferRender:!0,dom:'<"top">rt<"bottom"lp><"clear">',ajax:{url:Routing.generate("ajax_datatable_voter_history",{voterId:e.props.voterId}),type:"GET"},columnDefs:[{className:"text-center valign-middle",orderable:!1,targets:[0,1,2,3,4,5,6]}],order:[[7,"desc"]],columns:[{data:null,className:"text-center",width:30,render:function(e,t,a,n){return n.settings._iDisplayStart+n.row+1}},{data:"precinct_no",className:"text-center",width:"80px"},{data:"municipality_name",width:"150px"},{data:"barangay_name",className:"text-center",width:"100px"},{data:null,className:"text-center",width:"30px",render:function(e,t,a){var n="";return n+=1==a.has_ast?"*":"",n+=1==a.has_a?"A":"",n+=1==a.has_b?"B":"",n+=1==a.has_c?"C":""}},{data:null,className:"text-center",width:"10px",render:function(e,t,a){var n="";return n+=1==a.is_1?"1,":"",n+=1==a.is_2?"2,":"",n+=1==a.is_3?"3,":"",n+=1==a.is_4?"4,":"",n+=1==a.is_5?"5,":"",n+=1==a.is_6?"6,":"",n+=1==a.is_7?"7,":"",n=n.slice(0,n.lastIndexOf(","))}},{data:"voted_2017",className:"text-center",width:"10px",render:function(e,t,a){return 1==e?"YES":"NO"}},{data:"created_by",width:"140px",className:"text-center"},{data:"created_at",width:"140px",className:"text-center",render:function(e){return moment(e).format("MM/DD/YYYY hh:mm A")}}]}}),a.on("click",".edit-btn",function(){var a=t.getDataTable().row($(this).parents("tr")).data();e.edit(a.voter_id)}),a.on("click",".view-btn",function(){var a=t.getDataTable().row($(this).parents("tr")).data();e.view(a.voter_id)}),e.grid=t},reload:function(){this.grid.getDataTable().ajax.reload()},render:function(){return React.createElement("div",{className:"col-md-12"},React.createElement("div",{className:"table-container"},React.createElement("div",{className:"table-actions-wrapper"},React.createElement("span",null," ")),React.createElement("table",{id:"voter_history_table",className:"table table-striped table-bordered",width:"100%"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"No"),React.createElement("th",null,"Precinct No"),React.createElement("th",null,"Municipality"),React.createElement("th",null,"Brgy"),React.createElement("th",null,"Stat"),React.createElement("th",null,"Tag"),React.createElement("th",null,"16"),React.createElement("th",null,"Updated by"),React.createElement("th",null,"Updated At"))),React.createElement("tbody",null))))}});window.VoterHistoryDatatable=VoterHistoryDatatable;var Modal=ReactBootstrap.Modal,VoterViewModal=React.createClass({displayName:"VoterViewModal",getInitialState:function(){return{voterName:""}},render:function(){return React.createElement(Modal,{keyboard:!1,enforceFocus:!1,bsSize:"lg",backdrop:"static",show:this.props.show,onHide:this.props.onHide},React.createElement(Modal.Header,{className:"modal-header bg-blue-dark font-white",closeButton:!0},React.createElement(Modal.Title,null,"Details")),React.createElement(Modal.Body,{bsClass:"modal-body overflow-auto"},React.createElement("div",{className:"row voter-view-header"},React.createElement("div",{className:"col-md-12",style:{marginBottom:"15px"}},React.createElement("div",null,React.createElement("em",null,React.createElement("small",null,"Last Updated : ",moment(this.state.updatedAt).format("MMM DD, YYYY hh:mm: A")))),React.createElement("div",null,React.createElement("em",null,React.createElement("small",null,"Updated By : ",this.state.updatedBy)))),React.createElement("div",{className:"col-md-6"},React.createElement("div",null,React.createElement("strong",null,"Name : ")," ",this.state.voterName," "),React.createElement("div",null,React.createElement("strong",null,"Municipality :")," ",this.state.municipalityName," "),React.createElement("div",null,React.createElement("strong",null,"Barangay :")," ",this.state.barangayName," "),React.createElement("div",null,React.createElement("strong",null,"Voter No :")," ",this.state.voterNo," "),React.createElement("div",null,React.createElement("strong",null,"Precinct No :")," ",this.state.precinctNo," ")),React.createElement("div",{className:"col-md-6"},React.createElement("div",null,React.createElement("strong",null,"Cellphone No :")," ",this.state.cellphone," "),React.createElement("div",null,React.createElement("strong",null,"Address :")," ",this.state.address," "),React.createElement("div",null,React.createElement("strong",null,"2017 : ")," ",0==this.state.voted2017?"NO":"YES"," "),React.createElement("div",null,React.createElement("strong",null,"Stat : ")," ",this.state.voterStatus," "),React.createElement("div",null,React.createElement("strong",null,"Tag : ")," ",this.state.voterClass," "))),React.createElement("div",{className:"row"},React.createElement(VoterHistoryDatatable,{voterId:this.props.voterId}))))},componentDidMount:function(){this.loadVoter(this.props.voterId)},loadVoter:function(e){var t=this;t.requestVoter=$.ajax({url:Routing.generate("ajax_get_voter",{voterId:e}),type:"GET"}).done(function(e){t.setState(e)})}});window.VoterViewModal=VoterViewModal;var Modal=ReactBootstrap.Modal,FormGroup=ReactBootstrap.FormGroup,HelpBlock=ReactBootstrap.HelpBlock,ControlLabel=ReactBootstrap.ControlLabel,FormControl=ReactBootstrap.FormControl,VoterEditModal=React.createClass({displayName:"VoterEditModal",getInitialState:function(){return{form:{data:{voterId:0,voterName:"",address:"",voterClass:0},errors:[]}}},render:function(){return React.createElement(Modal,{keyboard:!1,enforceFocus:!1,bsSize:"sm",backdrop:"static",show:this.props.show,onHide:this.props.onHide},React.createElement(Modal.Header,{className:"modal-header bg-blue-dark font-white",closeButton:!0},React.createElement(Modal.Title,null,"Update Form")),React.createElement(Modal.Body,{bsClass:"modal-body overflow-auto"},React.createElement("form",{id:"voter-updated-form"},React.createElement("div",{class:"row",style:{padding:0}},React.createElement("div",{className:"col-md-12"},React.createElement(FormGroup,{controlId:"formVoterClass",validationState:this.getValidationState("voterClass")},React.createElement(ControlLabel,null," Tag : "),React.createElement(FormControl,{componentClass:"select",bsClass:"form-control input-sm",name:"voterClass",value:this.state.form.data.voterClass,onChange:this.setFormProp},React.createElement("option",{value:""}," -- Select --"),React.createElement("option",{value:"1"}," 1 "),React.createElement("option",{value:"2"}," 2 "),React.createElement("option",{value:"3"}," 3 "),React.createElement("option",{value:"4"}," 4 "),React.createElement("option",{value:"5"}," 5 "),React.createElement("option",{value:"6"}," 6 "),React.createElement("option",{value:"7"}," 7 "),React.createElement("option",{value:"8"}," 8 "),React.createElement("option",{value:"9"}," 9 ")),React.createElement(HelpBlock,null,this.getError("voterClass")))),React.createElement("div",{className:"col-md-12"},React.createElement(FormGroup,{controlId:"formCellphoneNo",validationState:this.getValidationState("cellphoneNo")},React.createElement(ControlLabel,null," Cellphone : "),React.createElement(FormControl,{bsClass:"form-control input-sm",name:"cellphoneNo",value:this.state.form.data.cellphoneNo,onChange:this.setFormProp}),React.createElement(HelpBlock,null,this.getError("cellphoneNo"))))),React.createElement("div",{className:"clearfix"}),React.createElement("div",{className:"text-right col-md-12"},React.createElement("button",{type:"button",className:"btn  btn-default",style:{marginRight:"5px"},onClick:this.props.onHide},"Close"),React.createElement("button",{type:"button",className:"btn blue-madison",onClick:this.submit},"Submit")))))},componentDidMount:function(){this.loadVoter(this.props.voterId)},loadVoter:function(e){var t=this;t.requestVoter=$.ajax({url:Routing.generate("ajax_get_voter",{voterId:e}),type:"GET"}).done(function(e){var a=t.state.form;a.data.voterClass=e.voterClass,a.data.cellphoneNo=e.cellphoneNo,a.data.voted2017=e.voted2017,a.data.hasAst=e.hasAst,a.data.hasA=e.hasA,a.data.hasB=e.hasB,a.data.hasC=e.hasC,t.setState({form:a})})},setFormProp:function(e){var t=this.state.form;t.data[e.target.name]=e.target.value,this.setState({form:t})},setErrors:function(e){var t=this.state.form;t.errors=e,this.setState({form:t})},getError:function(e){var t=this.state.form.errors;for(var a in t)if(a==e)return t[e];return null},getValidationState:function(e){return null!=this.getError(e)?"error":""},isEmpty:function(e){return null==e||""==e},submit:function(e){e.preventDefault();var t=this,a=t.state.form.data;t.requestPost=$.ajax({url:Routing.generate("ajax_patch_voter",{voterId:this.props.voterId}),type:"PATCH",data:a}).done(function(e){t.props.notify("Record has been updated. Waiting for admin's approval for changes to take effect.","ruby"),t.props.onHide()}).fail(function(e){"401"==e.status?t.props.notify("You dont have the permission to update this record.","ruby"):t.props.notify("Form Validation Failed.","ruby"),t.setErrors(e.responseJSON)})}});window.VoterEditModal=VoterEditModal;var Modal=ReactBootstrap.Modal,FormGroup=ReactBootstrap.FormGroup,HelpBlock=ReactBootstrap.HelpBlock,ControlLabel=ReactBootstrap.ControlLabel,FormControl=ReactBootstrap.FormControl,VoterUploadModal=React.createClass({displayName:"VoterUploadModal",getInitialState:function(){return{form:{data:{municipalityNo:"",brgyNo:""},errors:[]},file:null,isLoading:!1,uploadedRecord:0,targetName:"- - - -",totalRows:0,percentage:0}},getDefaultProps:function(){return{create:!0}},componentDidMount:function(){this.initSelect2()},initSelect2:function(){var e=this;$("#form-province-select2").select2({casesentitive:!1,placeholder:"Enter Name...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_province"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.province_code,text:e.name}})}}}}),$("#form-municipality-select2").select2({casesentitive:!1,placeholder:"Enter Name...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_municipality"),data:function(e){return{searchText:e.term,provinceCode:$("#form-province-select2").val()}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.municipality_no,text:e.name}})}}}}),$("#form-barangay-select2").select2({casesentitive:!1,placeholder:"Enter name...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_barangay"),data:function(e){return{searchText:e.term,provinceCode:$("#form-province-select2").val(),municipalityNo:$("#form-municipality-select2").val()}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.brgy_no,text:e.name}})}}}}),$("#form-province-select2").on("change",function(){$("#form-municipality-select2").empty().trigger("change"),$("#form-barangay-select2").empty().trigger("change"),e.setFormPropValue("provinceCode",$(this).val())}),$("#form-municipality-select2").on("change",function(){$("#form-barangay-select2").empty().trigger("change"),e.setFormPropValue("municipalityNo",$(this).val())}),$("#form-barangay-select2").on("change",function(){var t=$("#form-province-select2").val(),a=$("#form-municipality-select2").val(),n=$("#form-barangay-select2").val();e.setFormPropValue("brgyNo",$(this).val()),e.loadTargetName(t,a,n)})},loadTargetName:function(e,t,a){var n=this;n.requestBarangay=$.ajax({url:Routing.generate("ajax_get_barangay",{provinceCode:e,municipalityNo:t,brgyNo:a}),type:"GET"}).done(function(e){n.setState({targetName:e.name})})},setFormPropValue:function(e,t){var a=this.state.form;a.data[e]=t,this.setState({form:a})},setFormProp:function(e){var t=this.state.form;t.data[e.target.name]=e.target.value,this.setState({form:t})},setErrors:function(e){console.log("setting errors");var t=this.state.form;t.errors=e,this.setState({form:t})},getError:function(e){var t=this.state.form.errors;for(var a in t)if(a==e)return t[e];return null},getValidationState:function(e){return null!=this.getError(e)?"error":""},numberWithCommas:function(e){e=parseFloat(e).toFixed(2);var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},isEmpty:function(e){return null==e||""==e},reset:function(){var e=this.state.form;e.data.brgyNo="",e.errors=[],$("#form-barangay-select2").empty().trigger("change"),$("#voter-form #excel-file").val(""),this.setState({details:null,form:e})},setFile:function(e){this.setState({file:$(this)[0].files[0]})},submit:function(e){e.preventDefault();var t=this,a=t.state.form.data,n=new FormData;n.append("excelFile",$("#voter-form #excel-file")[0].files[0]),n.append("provinceCode",a.provinceCode),n.append("municipalityNo",a.municipalityNo),n.append("brgyNo",a.brgyNo),t.setState({isLoading:!0});var r=!1;t.requestUpload=$.ajax({url:Routing.generate("ajax_upload_voters"),data:n,type:"POST",contentType:!1,processData:!1,xhrFields:{onprogress:function(e){var a,n=e.currentTarget.response;!1===r?(a=n,r=n.length):(a=n.substring(r),r=n.length),t.isJsonString(a)&&(a=JSON.parse(a),t.setState({uploadedRecord:a.currentRow,totalRows:a.totalRows,percentage:a.percentage}))}}}).done(function(e){$.ajax({url:Routing.generate("ajax_update_voter_summary",{provinceCode:a.provinceCode,municipalityNo:a.municipalityNo,brgyNo:a.brgyNo}),type:"GET"}).done(function(e){console.log("summary has been updated")}),t.props.notify("Record has been uploaded.","ruby"),t.reset()}).fail(function(e){"401"==e.status?t.props.notify("You dont have the permission to perform this action.","ruby"):"400"==e.status?(t.props.notify("Form Validation Failed.","ruby"),t.setErrors(e.responseJSON)):(t.props.notify("Record has been uploaded.","ruby"),t.reset())}).always(function(){t.setState({isLoading:!1})})},isJsonString:function(e){try{JSON.parse(e)}catch(e){return!1}return!0},render:function(){var e=this;return console.log(e.state.form.data),React.createElement(Modal,{keyboard:!1,enforceFocus:!1,backdrop:"static",show:this.props.show,onHide:this.props.onHide},React.createElement(Modal.Header,{className:"modal-header bg-blue-dark font-white",closeButton:!0},React.createElement(Modal.Title,null,"Voter Form")),React.createElement(Modal.Body,{bsClass:"modal-body overflow-auto"},React.createElement("form",{id:"voter-form",enctype:"multipart/form-data"},React.createElement("div",{class:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(FormGroup,{controlId:"formProvinceCode"},React.createElement(ControlLabel,null," Province : "),React.createElement("select",{id:"form-province-select2",className:"form-control input-sm"}))),React.createElement("div",{className:"col-md-6"},React.createElement(FormGroup,{controlId:"formMunicipalityNo",validationState:this.getValidationState("municipalityNo")},React.createElement(ControlLabel,null," Municipality : "),React.createElement("select",{id:"form-municipality-select2",className:"form-control input-sm"}),React.createElement(HelpBlock,null,this.getError("municipalityNo")))),React.createElement("div",{className:"col-md-6"},React.createElement(FormGroup,{controlId:"formBarangayNo",validationState:this.getValidationState("brgyNo")},React.createElement(ControlLabel,null," Barangay : "),React.createElement("select",{id:"form-barangay-select2",className:"form-control input-sm"}),React.createElement(HelpBlock,null,this.getError("brgyNo")))),React.createElement("div",{className:"col-md-6"},React.createElement(FormGroup,{style:{marginTop:"30px"},controlId:"formExcelFile",validationState:this.getValidationState("excelFile")},React.createElement("div",null,React.createElement("input",{id:"excel-file",onChange:this.setFile,type:"file",accept:".xlxs, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:"excel-file"}),React.createElement(HelpBlock,null,this.getError("excel-file"))),React.createElement(HelpBlock,null,this.getError("excelFile"))))),React.createElement("div",{className:"clearfix"}),React.createElement("div",{class:"row",style:{marginTop:"20px"}},React.createElement("div",{className:"col-md-6 text-center"},React.createElement("div",{className:"bold"},this.state.targetName),React.createElement("div",{className:"col-md-6"},React.createElement("div",{className:"font-green-seagreen text-center bold",style:{fontSize:"50px"}},this.state.totalRows),React.createElement("div",{style:{textAlign:"center",fontWeight:"bold"}},"Total")),React.createElement("div",{className:"col-md-6"},React.createElement("div",{className:"font-red-sunglo text-center bold",style:{fontSize:"50px"}},this.state.uploadedRecord),React.createElement("div",{style:{textAlign:"center",fontWeight:"bold"}},"Uploaded"))),React.createElement("div",{className:"text-right col-md-6",style:{marginTop:"70px"}},React.createElement("button",{type:"button",className:"btn  btn-default",style:{marginRight:"5px"},onClick:this.props.onHide},"Close"),!this.state.isLoading&&React.createElement("button",{type:"button",className:"btn blue-madison",onClick:this.submit},"Submit"),this.state.isLoading&&React.createElement("button",{type:"button",disabled:!0,className:"btn red-sunglo"}," Uploading ",this.state.percentage," % ",React.createElement("i",{className:"fa fa-spinner fa-pulse fa-1x fa-fw"})))))))}});window.VoterUploadModal=VoterUploadModal;var VoterDatatable=React.createClass({displayName:"VoterDatatable",getInitialState:function(){return{showEntryModal:!1,showEditModal:!1,showUploadModal:!1,showViewModal:!1,target:null,typingTimer:null,doneTypingInterval:1500,fiscalYears:[],summary:{recordsFiltered:0,obrTotal:0},user:null}},componentDidMount:function(){this.loadUser(window.userId),this.initSelect2()},loadUser:function(e){var t=this;t.requestUser=$.ajax({url:Routing.generate("ajax_get_user",{id:e}),type:"GET"}).done(function(e){t.setState({user:e},t.reinitSelect2)})},initSelect2:function(){var e=this;$("#voter_component #province_select2").select2({casesentitive:!1,placeholder:"Enter Province...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_province_strict"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.province_code,text:e.name}})}}}}),$("#voter_table #municipality_select2").select2({casesentitive:!1,placeholder:"Enter Name...",allowClear:!0,delay:1500,width:100,containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_municipality_strict"),data:function(e){return{searchText:e.term,provinceCode:$("#voter_component #province_select2").val()}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.municipality_no,text:e.name}})}}}}),$("#voter_table #barangay_select2").select2({casesentitive:!1,placeholder:"Enter name...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_barangay_strict"),data:function(e){return{searchText:e.term,provinceCode:$("#voter_component #province_select2").val(),municipalityNo:$("#voter_table #municipality_select2").val()}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.brgy_no,text:e.name}})}}}}),$("#voter_table #precinct_select2").select2({casesentitive:!1,placeholder:"Enter Precinct...",allowClear:!0,delay:1500,width:70,containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_precinct_no"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.precinct_no,text:e.precinct_no}})}}}}),$("#voter_table #municipality_select2").on("change",function(){e.handleFilterChange()}),$("#voter_table #barangay_select2").on("change",function(){e.handleFilterChange()}),$("#voter_table #precinct_select2").on("change",function(){e.handleFilterChange()})},reinitSelect2:function(){var e=this,t=e.state.user.province.provinceCode;e.requestProvince=$.ajax({url:Routing.generate("ajax_get_province",{provinceCode:t}),type:"GET"}).done(function(e){console.log("province loaded."),$("#voter_component #province_select2").empty().append($("<option/>").val(e.province_code).text(e.name)).trigger("change")}),e.state.user.isAdmin||$("#voter_component #province_select2").attr("disabled","disabled"),e.gridTable()},gridTable:function(){var e=this,t=new Datatable,a=$("#voter_table");t.init({src:a,onSuccess:function(t,a){var n=e.state.summary;n.recordsFiltered=a.recordsFiltered,n.obrTotal=a.obrTotal,console.log(a),e.setState({summary:n})},dataTable:{bState:!0,autoWidth:!0,serverSide:!0,processing:!0,deferRender:!0,deferLoading:0,ajax:{url:Routing.generate("ajax_datatable_voter_update"),type:"GET",data:function(e){e.provinceCode=$("#voter_component #province_select2").val(),e.municipalityNo=$("#voter_table #municipality_select2").val(),e.brgyNo=$("#voter_table #barangay_select2").val(),e.precinctNo=$("#voter_table #precinct_select2").val(),e.voterName=$('#voter_table input[name="voter_name"]').val()}},columnDefs:[{className:"text-center valign-middle",orderable:!1,targets:[0,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]}],order:[[1,"asc"]],columns:[{data:null,className:"text-center",width:30,render:function(e,t,a,n){return n.settings._iDisplayStart+n.row+1}},{data:"voter_name"},{data:"precinct_no",className:"text-center",width:"30px"},{data:"municipality_name",width:"100px"},{data:"barangay_name",className:"text-center",width:"100px"},{data:"has_ast",className:"dt-body-center",width:20,render:function(e,t,a){return'<label class="mt-checkbox req-checkbox"><input type="checkbox" name="hasAst" '+(1==parseInt(e)?' checked="checked" ':"")+' value="'+a.voter_id+'"></input><span></span></label>'}},{data:"has_a",className:"dt-body-center",width:20,render:function(e,t,a){return'<label class="mt-checkbox req-checkbox"><input type="checkbox" name="hasA" '+(1==parseInt(e)?' checked="checked" ':"")+' value="'+a.voter_id+'"></input><span></span></label>'}},{data:"has_b",className:"dt-body-center",width:20,render:function(e,t,a){return'<label class="mt-checkbox req-checkbox"><input type="checkbox" name="hasB" '+(1==parseInt(e)?' checked="checked" ':"")+' value="'+a.voter_id+'"></input><span></span></label>'}},{data:"has_c",className:"dt-body-center",width:20,render:function(e,t,a){return'<label class="mt-checkbox req-checkbox"><input type="checkbox" name="hasC" '+(1==parseInt(e)?' checked="checked" ':"")+' value="'+a.voter_id+'"></input><span></span></label>'}},{data:"is_1",className:"dt-body-center",width:20,render:function(e,t,a){return'<label class="mt-checkbox req-checkbox"><input type="checkbox" name="is1" '+(1==parseInt(e)?' checked="checked" ':"")+' value="'+a.voter_id+'"></input><span></span></label>'}},{data:"is_2",className:"dt-body-center",width:20,render:function(e,t,a){return'<label class="mt-checkbox req-checkbox"><input type="checkbox" name="is2" '+(1==parseInt(e)?' checked="checked" ':"")+' value="'+a.voter_id+'"></input><span></span></label>'}},{data:"is_3",className:"dt-body-center",width:20,render:function(e,t,a){return'<label class="mt-checkbox req-checkbox"><input type="checkbox" name="is3" '+(1==parseInt(e)?' checked="checked" ':"")+' value="'+a.voter_id+'"></input><span></span></label>'}},{data:"is_4",className:"dt-body-center",width:20,render:function(e,t,a){return'<label class="mt-checkbox req-checkbox"><input type="checkbox" name="is4" '+(1==parseInt(e)?' checked="checked" ':"")+' value="'+a.voter_id+'"></input><span></span></label>'}},{data:"is_5",className:"dt-body-center",width:20,render:function(e,t,a){return'<label class="mt-checkbox req-checkbox"><input type="checkbox" name="is5" '+(1==parseInt(e)?' checked="checked" ':"")+' value="'+a.voter_id+'"></input><span></span></label>'}},{data:"is_6",className:"dt-body-center",width:20,render:function(e,t,a){return'<label class="mt-checkbox req-checkbox"><input type="checkbox" name="is6" '+(1==parseInt(e)?' checked="checked" ':"")+' value="'+a.voter_id+'"></input><span></span></label>'}},{data:"is_7",className:"dt-body-center",width:20,render:function(e,t,a){return'<label class="mt-checkbox req-checkbox"><input type="checkbox" name="is7" '+(1==parseInt(e)?' checked="checked" ':"")+' value="'+a.voter_id+'"></input><span></span></label>'}},{data:"voted_2017",className:"dt-body-center",width:20,render:function(e,t,a){return'<label class="mt-checkbox req-checkbox"><input type="checkbox" name="voted2017" '+(1==parseInt(e)?' checked="checked" ':"")+' value="'+a.voter_id+'"></input><span></span></label>'}},{width:60,render:function(){var e='<button class="btn btn-xs blue-madison  edit-btn"><i class="fa fa-mobile-phone"></i></button>';return e+='<button class="btn btn-xs green view-btn"><i class="fa fa-search"></i></button>'},className:"dt-body-center"}]}}),a.on("click",".edit-btn",function(){var a=t.getDataTable().row($(this).parents("tr")).data();e.edit(a.voter_id)}),a.on("click",".view-btn",function(){var a=t.getDataTable().row($(this).parents("tr")).data();e.view(a.voter_id)}),a.on("click",".req-checkbox",function(t){var a=t.target.value,n=t.target.checked,r=t.target.name,l=n?1:0;console.log("voter id"),console.log(a),console.log("field name"),console.log(r),console.log("current value"),console.log(n),console.log("new value"),console.log(l),null!=a&&null!=n&&e.patch(a,r,l)}),e.grid=t},patch:function(e,t,a){var n=this,r={};r[t]=a,n.requestToggle=$.ajax({url:Routing.generate("ajax_patch_voter",{voterId:e}),type:"PATCH",data:r}).done(function(e){console.log("voter has been patched")})},openEntryModal:function(){console.log("open create modal"),this.setState({showEntryModal:!0})},openUploadModal:function(){this.setState({showUploadModal:!0})},edit:function(e){this.setState({showEditModal:!0,target:e})},view:function(e){this.setState({showViewModal:!0,target:e})},closeEntryModal:function(){this.setState({showEntryModal:!1}),this.reload()},closeViewModal:function(){this.setState({showViewModal:!1,target:null})},closeUploadModal:function(){this.setState({showUploadModal:!1}),this.reload()},closeEditModal:function(){this.setState({showEditModal:!1,target:null}),this.reload()},handleFilterChange:function(){},reload:function(){this.grid.getDataTable().ajax.reload()},render:function(){return React.createElement("div",null,React.createElement("div",{className:"row",id:"voter_component"},React.createElement("div",{className:"col-md-2 col-md-offset-10"},React.createElement("form",null,React.createElement("select",{id:"province_select2",className:"form-control form-filter input-sm"})))),this.state.showViewModal&&React.createElement(VoterViewModal,{show:this.state.showViewModal,onHide:this.closeViewModal,notify:this.props.notify,voterId:this.state.target}),React.createElement("div",{className:"table-container"},React.createElement("div",{className:"table-actions-wrapper"},React.createElement("span",null," ")),React.createElement("table",{id:"voter_table",className:"table table-striped table-bordered",width:"100%"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"No"),React.createElement("th",null,"Name"),React.createElement("th",null,"Precinct"),React.createElement("th",null,"Municipality"),React.createElement("th",null,"Brgy"),React.createElement("th",null,"*"),React.createElement("th",null,"a"),React.createElement("th",null,"b"),React.createElement("th",null,"c"),React.createElement("th",null,"1"),React.createElement("th",null,"2"),React.createElement("th",null,"3"),React.createElement("th",null,"4"),React.createElement("th",null,"5"),React.createElement("th",null,"6"),React.createElement("th",null,"7"),React.createElement("th",null,"16"),React.createElement("th",null)),React.createElement("tr",null,React.createElement("td",null),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"voter_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("select",{id:"precinct_select2",style:{width:"30px"},className:"form-control form-filter input-sm",name:"precinct_no"})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("select",{id:"municipality_select2",className:"form-control form-filter input-sm",name:"precinct_no"})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("select",{id:"barangay_select2",className:"form-control form-filter input-sm",name:"precinct_no"})),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null,React.createElement("button",{style:{marginTop:"5px",marginBottom:"5px"},className:"btn btn-xs green btn-outline filter-submit"},React.createElement("i",{className:"fa fa-search"}),"Search")))),React.createElement("tbody",null))))},setAccessCode:function(e){this.setState({accessCode:e.target.value})},onApplyCode:function(e){console.log("apply code"),e.preventDefault();var t=this;t.requestApplyCode=$.ajax({url:Routing.generate("ajax_apply_access_code",{accessCode:this.state.accessCode}),type:"GET"}).done(function(e){t.reload(),console.log("codes has been applied")}).fail(function(){console.log("invalid code")})}});window.VoterDatatable=VoterDatatable;var VoterComponent=React.createClass({displayName:"VoterComponent",notify:function(e,t){$.notific8("zindex",11500),$.notific8(e,{heading:"System Message",color:t,life:5e3,verticalEdge:"right",horizontalEdge:"top"})},render:function(){return React.createElement("div",{className:"portlet light portlet-fit bordered"},React.createElement("div",{className:"portlet-body"},React.createElement(VoterDatatable,{notify:this.notify})))}});setTimeout(function(){ReactDOM.render(React.createElement(VoterComponent,null),document.getElementById("voter-container"))},500);