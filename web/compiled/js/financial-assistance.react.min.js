var FinancialAssistanceMonthlySummaryReportDetailDatatable=React.createClass({displayName:"FinancialAssistanceMonthlySummaryReportDetailDatatable",getInitialState:function(){return{showEditModal:!1,showReleaseModal:!1,target:null,typingTimer:null,doneTypingInterval:1500,user:null,filters:{electId:null,provinceCode:null,proId:null}}},componentDidMount:function(){console.log("monthly summary detail datatable"),this.loadUser(window.userId),this.initDatatable()},loadUser:function(e){var t=this;t.requestUser=$.ajax({url:Routing.generate("ajax_get_user",{id:e}),type:"GET"}).done(function(e){t.setState({user:e},t.reinitSelect2)})},initSelect2:function(){var e=this;$("#fa_component #election_select2").select2({casesentitive:!1,placeholder:"Select Election...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_elections"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.elect_id,text:e.elect_name}})}}}}),$("#fa_component #project_select2").select2({casesentitive:!1,placeholder:"Select Project...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_projects"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.pro_id,text:e.pro_name}})}}}}),$("#fa_component #province_select2").select2({casesentitive:!1,placeholder:"Enter Province...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_province_strict"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.province_code,text:e.name}})}}}}),$("#fa_component #election_select2").on("change",function(){var t=e.state.filters;t.electId=$(this).val(),e.setState({filters:t},e.reload)}),$("#fa_component #project_select2").on("change",function(){var t=e.state.filters;t.proId=$(this).val(),e.setState({filters:t},e.reload)}),$("#fa_component #province_select2").on("change",function(){var t=e.state.filters;t.provinceCode=$(this).val(),e.setState({filters:t},e.reload)})},reinitSelect2:function(){var e=this;if(!e.isEmpty(e.state.user.project)){var t=e.state.user.project.provinceCode;e.requestProvince=$.ajax({url:Routing.generate("ajax_get_province",{provinceCode:t}),type:"GET"}).done(function(e){$("#fa_component #province_select2").empty().append($("<option/>").val(e.province_code).text(e.name)).trigger("change")}),e.requestProject=$.ajax({url:Routing.generate("ajax_get_project",{proId:e.state.user.project.proId}),type:"GET"}).done(function(e){$("#fa_component #project_select2").empty().append($("<option/>").val(e.proId).text(e.proName)).trigger("change")})}e.requestActiveElection=$.ajax({url:Routing.generate("ajax_get_active_election"),type:"GET"}).done(function(e){$("#fa_component #election_select2").empty().append($("<option/>").val(e.electId).text(e.electName)).trigger("change")}),e.state.user.isAdmin||($("#fa_component #election_select2").attr("disabled","disabled"),$("#fa_component #province_select2").attr("disabled","disabled"),$("#fa_component #project_select2").attr("disabled","disabled"))},initDatatable:function(){var e=this,t=(new Datatable,$("#financial_assistance_released_table")),a=new Datatable,n=Routing.generate("ajax_get_datatable_financial_assistance_monthly_summary_report_detail",{},!0);a.init({src:t,loadingMessage:"Loading...",dataTable:{bState:!0,autoWidth:!0,deferRender:!0,ajax:{url:n,type:"GET",data:function(t){t.municipalityName=e.props.municipalityName,t.startDate=e.props.startDate,t.endDate=e.props.endDate,t.month=e.props.month}},columnDefs:[{orderable:!1,targets:[0,2,3,4,5,6,7,8,9,10]},{className:"align-center",targets:[0,3]}],order:[[0,"desc"]],columns:[{data:null,className:"text-center",width:30,render:function(e,t,a,n){return n.settings._iDisplayStart+n.row+1}},{data:"trn_no",width:50,className:"text-center"},{data:"trn_date",width:50,className:"text-center"},{data:"applicant_name",className:"text-center",width:100},{data:"contact_no",className:"text-center",width:50},{data:"beneficiary_name",className:"text-center",width:100},{data:"endorsed_by",className:"text-center",width:100},{data:"municipality_name",className:"text-center",width:50},{data:"barangay_name",className:"text-center",width:50},{data:"granted_amt",className:"text-center",width:50,render:function(t){return e.numberWithCommas(t)}},{width:50,className:"text-center",render:function(e,t,a){return""}}]}}),t.on("click",".edit-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showEditModal:!0,target:t.trn_id})}),t.on("click",".release-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showReleaseModal:!0,target:t.trn_id})}),t.on("click",".delete-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.delete(t.dtl_id)}),e.grid=a},closeEditModal:function(){this.setState({showEditModal:!1,target:null})},closeReleaseModal:function(){this.setState({showReleaseModal:!1,target:null})},openCreateModal:function(){this.setState({showCreateModal:!0})},openClosingModal:function(){this.setState({showClosingModal:!0})},delete:function(e){var t=this;confirm("Are you sure you want to delete this item?")&&(t.requestDelete=$.ajax({url:Routing.generate("ajax_delete_financial_assistance_daily_summary_detail",{id:e}),type:"DELETE"}).done(function(e){t.reload()}))},handleFilterChange:function(){var e=this;clearTimeout(this.state.typingTimer),this.state.typingTimer=setTimeout(function(){e.reload()},this.state.doneTypingInterval)},reload:function(){null!=this.grid&&this.grid.getDataTable().ajax.reload()},isEmpty:function(e){return null==e||""==e||"undefined"==e||e<=0},numberWithCommas:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},render:function(){return console.log("active table"),console.log(this.state.activeTable),React.createElement("div",null,this.state.showReleaseModal&&React.createElement(FinancialAssistanceReleaseModal,{proId:this.state.filters.proId,trnId:this.state.target,show:this.state.showReleaseModal,notify:this.props.notify,reload:this.reload,onHide:this.closeReleaseModal}),this.state.showEditModal&&React.createElement(FinancialAssistanceEditModal,{proId:this.state.filters.proId,trnId:this.state.target,show:this.state.showEditModal,notify:this.props.notify,reload:this.reload,onHide:this.closeEditModal}),React.createElement("div",{className:"table-container",style:{marginTop:"20px"}},React.createElement("table",{id:"financial_assistance_released_table",className:"table table-striped table-bordered",width:"100%"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"No"),React.createElement("th",null,"Trn No"),React.createElement("th",null,"Trn Date"),React.createElement("th",null,"Applicant"),React.createElement("th",null,"Contact No"),React.createElement("th",null,"Beneficiary"),React.createElement("th",null,"Endorser"),React.createElement("th",null,"Municipality"),React.createElement("th",null,"Barangay"),React.createElement("th",null,"Granted Amt"),React.createElement("th",{width:"50px"})),React.createElement("tr",null,React.createElement("td",null),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"trn_no",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"trn_date",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"applicant_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"contact_no",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"beneficiary_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"endorsed_by",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"municipality_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"barangay_name",onChange:this.handleFilterChange})),React.createElement("td",null),React.createElement("td",null))),React.createElement("tbody",null))))}});window.FinancialAssistanceMonthlySummaryReportDetailDatatable=FinancialAssistanceMonthlySummaryReportDetailDatatable;var Modal=ReactBootstrap.Modal,FormGroup=ReactBootstrap.FormGroup,HelpBlock=ReactBootstrap.HelpBlock,ControlLabel=ReactBootstrap.ControlLabel,FormControl=ReactBootstrap.FormControl,FinancialAssistanceMonthlyListModal=React.createClass({displayName:"FinancialAssistanceMonthlyListModal",getInitialState:function(){return{member:null,showAddMemberModal:!1,header:{closingDate:""}}},render:function(){var e=this;e.state.header;return React.createElement(Modal,{style:{marginTop:"10px"},keyboard:!1,dialogClassName:"modal-custom-95",enforceFocus:!1,backdrop:"static",show:this.props.show,onHide:this.props.onHide},React.createElement(Modal.Header,{className:"modal-header bg-blue-dark font-white",closeButton:!0},React.createElement(Modal.Title,null,"Monthly List of Transactions  : ",this.state.header.closingDate,"  ")),React.createElement(Modal.Body,{bsClass:"modal-body overflow-auto"},React.createElement(FinancialAssistanceMonthlySummaryReportDetailDatatable,{municipalityName:this.props.municipalityName,startDate:this.props.startDate,endDate:this.props.endDate,month:this.props.month})))},componentDidMount:function(){},setFormProp:function(e){this.setState({proIdCode:e.target.value},this.search)}});window.FinancialAssistanceMonthlyListModal=FinancialAssistanceMonthlyListModal;var Modal=ReactBootstrap.Modal,FormGroup=ReactBootstrap.FormGroup,HelpBlock=ReactBootstrap.HelpBlock,ControlLabel=ReactBootstrap.ControlLabel,FormControl=ReactBootstrap.FormControl,FinancialAssistanceMunicipalityListModal=React.createClass({displayName:"FinancialAssistanceMunicipalityListModal",getInitialState:function(){return{member:null,showAddMemberModal:!1,header:{closingDate:""}}},render:function(){var e=this;e.state.header;return React.createElement(Modal,{style:{marginTop:"10px"},keyboard:!1,dialogClassName:"modal-custom-95",enforceFocus:!1,backdrop:"static",show:this.props.show,onHide:this.props.onHide},React.createElement(Modal.Header,{className:"modal-header bg-blue-dark font-white",closeButton:!0},React.createElement(Modal.Title,null,"Municipality List of Transactions  : ",this.state.header.closingDate,"  ")),React.createElement(Modal.Body,{bsClass:"modal-body overflow-auto"},React.createElement(FinancialAssistanceMunicipalitySummaryReportDetailDatatable,{municipalityName:this.props.municipalityName,startDate:this.props.startDate,endDate:this.props.endDate})))},componentDidMount:function(){},setFormProp:function(e){this.setState({proIdCode:e.target.value},this.search)}});window.FinancialAssistanceMunicipalityListModal=FinancialAssistanceMunicipalityListModal;var FinancialAssistanceMunicipalitySummaryReportDetailDatatable=React.createClass({displayName:"FinancialAssistanceMunicipalitySummaryReportDetailDatatable",getInitialState:function(){return{showEditModal:!1,showReleaseModal:!1,target:null,typingTimer:null,doneTypingInterval:1500,user:null,filters:{electId:null,provinceCode:null,proId:null}}},componentDidMount:function(){this.loadUser(window.userId),this.initDatatable()},loadUser:function(e){var t=this;t.requestUser=$.ajax({url:Routing.generate("ajax_get_user",{id:e}),type:"GET"}).done(function(e){t.setState({user:e},t.reinitSelect2)})},initSelect2:function(){var e=this;$("#fa_component #election_select2").select2({casesentitive:!1,placeholder:"Select Election...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_elections"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.elect_id,text:e.elect_name}})}}}}),$("#fa_component #project_select2").select2({casesentitive:!1,placeholder:"Select Project...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_projects"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.pro_id,text:e.pro_name}})}}}}),$("#fa_component #province_select2").select2({casesentitive:!1,placeholder:"Enter Province...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_province_strict"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.province_code,text:e.name}})}}}}),$("#fa_component #election_select2").on("change",function(){var t=e.state.filters;t.electId=$(this).val(),e.setState({filters:t},e.reload)}),$("#fa_component #project_select2").on("change",function(){var t=e.state.filters;t.proId=$(this).val(),e.setState({filters:t},e.reload)}),$("#fa_component #province_select2").on("change",function(){var t=e.state.filters;t.provinceCode=$(this).val(),e.setState({filters:t},e.reload)})},reinitSelect2:function(){var e=this;if(!e.isEmpty(e.state.user.project)){var t=e.state.user.project.provinceCode;e.requestProvince=$.ajax({url:Routing.generate("ajax_get_province",{provinceCode:t}),type:"GET"}).done(function(e){$("#fa_component #province_select2").empty().append($("<option/>").val(e.province_code).text(e.name)).trigger("change")}),e.requestProject=$.ajax({url:Routing.generate("ajax_get_project",{proId:e.state.user.project.proId}),type:"GET"}).done(function(e){$("#fa_component #project_select2").empty().append($("<option/>").val(e.proId).text(e.proName)).trigger("change")})}e.requestActiveElection=$.ajax({url:Routing.generate("ajax_get_active_election"),type:"GET"}).done(function(e){$("#fa_component #election_select2").empty().append($("<option/>").val(e.electId).text(e.electName)).trigger("change")}),e.state.user.isAdmin||($("#fa_component #election_select2").attr("disabled","disabled"),$("#fa_component #province_select2").attr("disabled","disabled"),$("#fa_component #project_select2").attr("disabled","disabled"))},initDatatable:function(){var e=this,t=(new Datatable,$("#financial_assistance_released_table")),a=new Datatable,n=Routing.generate("ajax_get_datatable_financial_assistance_municipality_summary_report_detail",{},!0);a.init({src:t,loadingMessage:"Loading...",dataTable:{bState:!0,autoWidth:!0,deferRender:!0,ajax:{url:n,type:"GET",data:function(t){t.municipalityName=e.props.municipalityName,t.startDate=e.props.startDate,t.endDate=e.props.endDate}},columnDefs:[{orderable:!1,targets:[0,2,3,4,5,6,7,8,9,10]},{className:"align-center",targets:[0,3]}],order:[[0,"desc"]],columns:[{data:null,className:"text-center",width:30,render:function(e,t,a,n){return n.settings._iDisplayStart+n.row+1}},{data:"trn_no",width:50,className:"text-center"},{data:"trn_date",width:50,className:"text-center"},{data:"applicant_name",className:"text-center",width:100},{data:"contact_no",className:"text-center",width:50},{data:"beneficiary_name",className:"text-center",width:100},{data:"endorsed_by",className:"text-center",width:100},{data:"municipality_name",className:"text-center",width:50},{data:"barangay_name",className:"text-center",width:50},{data:"granted_amt",className:"text-center",width:50,render:function(t){return e.numberWithCommas(t)}},{width:50,className:"text-center",render:function(e,t,a){return""}}]}}),t.on("click",".edit-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showEditModal:!0,target:t.trn_id})}),t.on("click",".release-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showReleaseModal:!0,target:t.trn_id})}),t.on("click",".delete-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.delete(t.dtl_id)}),e.grid=a},closeEditModal:function(){this.setState({showEditModal:!1,target:null})},closeReleaseModal:function(){this.setState({showReleaseModal:!1,target:null})},openCreateModal:function(){this.setState({showCreateModal:!0})},openClosingModal:function(){this.setState({showClosingModal:!0})},delete:function(e){var t=this;confirm("Are you sure you want to delete this item?")&&(t.requestDelete=$.ajax({url:Routing.generate("ajax_delete_financial_assistance_daily_summary_detail",{id:e}),type:"DELETE"}).done(function(e){t.reload()}))},handleFilterChange:function(){var e=this;clearTimeout(this.state.typingTimer),this.state.typingTimer=setTimeout(function(){e.reload()},this.state.doneTypingInterval)},reload:function(){null!=this.grid&&this.grid.getDataTable().ajax.reload()},isEmpty:function(e){return null==e||""==e||"undefined"==e||e<=0},numberWithCommas:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},render:function(){return console.log("active table"),console.log(this.state.activeTable),React.createElement("div",null,this.state.showReleaseModal&&React.createElement(FinancialAssistanceReleaseModal,{proId:this.state.filters.proId,trnId:this.state.target,show:this.state.showReleaseModal,notify:this.props.notify,reload:this.reload,onHide:this.closeReleaseModal}),this.state.showEditModal&&React.createElement(FinancialAssistanceEditModal,{proId:this.state.filters.proId,trnId:this.state.target,show:this.state.showEditModal,notify:this.props.notify,reload:this.reload,onHide:this.closeEditModal}),React.createElement("div",{className:"table-container",style:{marginTop:"20px"}},React.createElement("table",{id:"financial_assistance_released_table",className:"table table-striped table-bordered",width:"100%"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"No"),React.createElement("th",null,"Trn No"),React.createElement("th",null,"Trn Date"),React.createElement("th",null,"Applicant"),React.createElement("th",null,"Contact No"),React.createElement("th",null,"Beneficiary"),React.createElement("th",null,"Endorser"),React.createElement("th",null,"Municipality"),React.createElement("th",null,"Barangay"),React.createElement("th",null,"Granted Amt"),React.createElement("th",{width:"50px"})),React.createElement("tr",null,React.createElement("td",null),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"trn_no",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"trn_date",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"applicant_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"contact_no",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"beneficiary_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"endorsed_by",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"municipality_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"barangay_name",onChange:this.handleFilterChange})),React.createElement("td",null),React.createElement("td",null))),React.createElement("tbody",null))))}});window.FinancialAssistanceMunicipalitySummaryReportDetailDatatable=FinancialAssistanceMunicipalitySummaryReportDetailDatatable;var FinancialDailySummaryReportDetailDatatable=React.createClass({displayName:"FinancialDailySummaryReportDetailDatatable",getInitialState:function(){return{showEditModal:!1,showReleaseModal:!1,target:null,typingTimer:null,doneTypingInterval:1500,user:null,filters:{electId:null,provinceCode:null,proId:null}}},componentDidMount:function(){this.loadUser(window.userId),this.initDatatable()},loadUser:function(e){var t=this;t.requestUser=$.ajax({url:Routing.generate("ajax_get_user",{id:e}),type:"GET"}).done(function(e){t.setState({user:e},t.reinitSelect2)})},initSelect2:function(){var e=this;$("#fa_component #election_select2").select2({casesentitive:!1,placeholder:"Select Election...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_elections"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.elect_id,text:e.elect_name}})}}}}),$("#fa_component #project_select2").select2({casesentitive:!1,placeholder:"Select Project...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_projects"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.pro_id,text:e.pro_name}})}}}}),$("#fa_component #province_select2").select2({casesentitive:!1,placeholder:"Enter Province...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_province_strict"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.province_code,text:e.name}})}}}}),$("#fa_component #election_select2").on("change",function(){var t=e.state.filters;t.electId=$(this).val(),e.setState({filters:t},e.reload)}),$("#fa_component #project_select2").on("change",function(){var t=e.state.filters;t.proId=$(this).val(),e.setState({filters:t},e.reload)}),$("#fa_component #province_select2").on("change",function(){var t=e.state.filters;t.provinceCode=$(this).val(),e.setState({filters:t},e.reload)})},reinitSelect2:function(){var e=this;if(!e.isEmpty(e.state.user.project)){var t=e.state.user.project.provinceCode;e.requestProvince=$.ajax({url:Routing.generate("ajax_get_province",{provinceCode:t}),type:"GET"}).done(function(e){$("#fa_component #province_select2").empty().append($("<option/>").val(e.province_code).text(e.name)).trigger("change")}),e.requestProject=$.ajax({url:Routing.generate("ajax_get_project",{proId:e.state.user.project.proId}),type:"GET"}).done(function(e){$("#fa_component #project_select2").empty().append($("<option/>").val(e.proId).text(e.proName)).trigger("change")})}e.requestActiveElection=$.ajax({url:Routing.generate("ajax_get_active_election"),type:"GET"}).done(function(e){$("#fa_component #election_select2").empty().append($("<option/>").val(e.electId).text(e.electName)).trigger("change")}),e.state.user.isAdmin||($("#fa_component #election_select2").attr("disabled","disabled"),$("#fa_component #province_select2").attr("disabled","disabled"),$("#fa_component #project_select2").attr("disabled","disabled"))},initDatatable:function(){var e=this,t=(new Datatable,$("#financial_assistance_summary_detail_datatable")),a=new Datatable,n=Routing.generate("ajax_get_datatable_financial_assistance_daily_summary_detail",{},!0);a.init({src:t,loadingMessage:"Loading...",dataTable:{bState:!0,autoWidth:!0,deferRender:!0,ajax:{url:n,type:"GET",data:function(t){t.id=e.props.id,t.trnNo=$('#financial_assistance_summary_detail_datatable input[name="trn_no"]').val(),t.trnDate=$('#financial_assistance_summary_detail_datatable input[name="trn_date"]').val(),t.applicantName=$('#financial_assistance_summary_detail_datatable input[name="applicant_name"]').val(),t.contactNo=$('#financial_assistance_summary_detail_datatable input[name="contact_no"]').val(),t.beneficiaryName=$('#financial_assistance_summary_detail_datatable input[name="beneficiary_name"]').val(),t.endorsedBy=$('#financial_assistance_summary_detail_datatable input[name="endorsed_by"]').val(),t.municipalityName=$('#financial_assistance_summary_detail_datatable input[name="municipality_name"]').val(),t.barangayName=$('#financial_assistance_summary_detail_datatable input[name="barangay_name"]').val()}},columnDefs:[{orderable:!1,targets:[0,9,10]},{className:"align-center",targets:[0,3]}],order:[[0,"desc"]],columns:[{data:null,className:"text-center",width:30,render:function(e,t,a,n){return n.settings._iDisplayStart+n.row+1}},{data:"trn_no",width:50,className:"text-center"},{data:"trn_date",width:50,className:"text-center"},{data:"applicant_name",className:"text-center",width:100},{data:"contact_no",className:"text-center",width:50},{data:"beneficiary_name",className:"text-center",width:100},{data:"endorsed_by",className:"text-center",width:100},{data:"municipality_name",className:"text-center",width:50},{data:"barangay_name",className:"text-center",width:50},{data:"granted_amt",className:"text-center",width:50,render:function(t){return e.numberWithCommas(t)}},{width:50,className:"text-center",render:function(e,t,a){return""}}]}}),t.on("click",".edit-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showEditModal:!0,target:t.trn_id})}),t.on("click",".release-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showReleaseModal:!0,target:t.trn_id})}),t.on("click",".delete-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.delete(t.dtl_id)}),e.grid=a},closeEditModal:function(){this.setState({showEditModal:!1,target:null})},closeReleaseModal:function(){this.setState({showReleaseModal:!1,target:null})},openCreateModal:function(){this.setState({showCreateModal:!0})},openClosingModal:function(){this.setState({showClosingModal:!0})},delete:function(e){var t=this;confirm("Are you sure you want to delete this item?")&&(t.requestDelete=$.ajax({url:Routing.generate("ajax_delete_financial_assistance_daily_summary_detail",{id:e}),type:"DELETE"}).done(function(e){t.reload()}))},handleFilterChange:function(){var e=this;clearTimeout(this.state.typingTimer),this.state.typingTimer=setTimeout(function(){e.reload()},this.state.doneTypingInterval)},reload:function(){null!=this.grid&&this.grid.getDataTable().ajax.reload()},isEmpty:function(e){return null==e||""==e||"undefined"==e||e<=0},numberWithCommas:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},render:function(){return console.log("active table"),console.log(this.state.activeTable),React.createElement("div",null,this.state.showReleaseModal&&React.createElement(FinancialAssistanceReleaseModal,{proId:this.state.filters.proId,trnId:this.state.target,show:this.state.showReleaseModal,notify:this.props.notify,reload:this.reload,onHide:this.closeReleaseModal}),this.state.showEditModal&&React.createElement(FinancialAssistanceEditModal,{proId:this.state.filters.proId,trnId:this.state.target,show:this.state.showEditModal,notify:this.props.notify,reload:this.reload,onHide:this.closeEditModal}),React.createElement("div",{className:"table-container",style:{marginTop:"20px"}},React.createElement("table",{id:"financial_assistance_summary_detail_datatable",className:"table table-striped table-bordered",width:"100%"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"No"),React.createElement("th",null,"Trn No"),React.createElement("th",null,"Trn Date"),React.createElement("th",null,"Applicant"),React.createElement("th",null,"Contact No"),React.createElement("th",null,"Beneficiary"),React.createElement("th",null,"Endorser"),React.createElement("th",null,"Municipality"),React.createElement("th",null,"Barangay"),React.createElement("th",null,"Granted Amt"),React.createElement("th",{width:"50px"})),React.createElement("tr",null,React.createElement("td",null),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"trn_no",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"trn_date",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"applicant_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"contact_no",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"beneficiary_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"endorsed_by",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"municipality_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"barangay_name",onChange:this.handleFilterChange})),React.createElement("td",null),React.createElement("td",null))),React.createElement("tbody",null))))}});window.FinancialDailySummaryReportDetailDatatable=FinancialDailySummaryReportDetailDatatable;var Modal=ReactBootstrap.Modal,FormGroup=ReactBootstrap.FormGroup,HelpBlock=ReactBootstrap.HelpBlock,ControlLabel=ReactBootstrap.ControlLabel,FormControl=ReactBootstrap.FormControl,FinancialAssistancePostingModal=React.createClass({displayName:"FinancialAssistancePostingModal",getInitialState:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();return a<10&&(a="0"+a),t<10&&(t="0"+t),{unselected:[],options:[],form:{data:{profiles:[],closingDate:n+"-"+a+"-"+t},errors:[]}}},componentDidMount:function(){this.initSelect2(),this.initComponents()},componentWillUnmount:function(){this.isEmpty(this.requestProfiles)||this.requestProfiles.abort()},loadData:function(e){var t=this,a=Routing.generate("ajax_get_unposted_transactions",{hdrId:e});t.requestProfiles=$.ajax({url:a,type:"GET"}).done(function(e){t.setState({options:e,unselected:e}),setTimeout(t.refreshSelectBox,2e3)})},initSelect2:function(){var e=this;$("#posting-form #unposted_date_select2").select2({casesentitive:!1,placeholder:"Select Closing Date",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_fa_unposted_closed_dates"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){var t="Closing Date : "+e.closing_date+" - Total : "+e.total_released+" transactions";return{id:e.id,text:t}})}}}}),$("#posting-form  #unposted_date_select2").on("change",function(){
e.loadData($(this).val())})},initComponents:function(){this.initMultiSelect()},initMultiSelect:function(){var e=this,t=this.refs.selectBox;$(t).multiSelect({selectableOptgroup:!0,selectableHeader:"<input placeholder='Enter Name' type='text' class='form-control' autocomplete='off' style='text-transform:uppercase;margin-bottom:5px;'>",selectionHeader:"<input placeholder='Enter Name' type='text' class='form-control' autocomplete='off' style='text-transform:uppercase;margin-bottom:5px;'>",afterInit:function(e){var t=this,a=t.$selectableUl.prev(),n=t.$selectionUl.prev(),l="#"+t.$container.attr("id")+" .ms-elem-selectable:not(.ms-selected)",r="#"+t.$container.attr("id")+" .ms-elem-selection.ms-selected";t.qs1=a.quicksearch(l).on("keydown",function(e){if(40===e.which)return t.$selectableUl.focus(),!1}),t.qs2=n.quicksearch(r).on("keydown",function(e){if(40==e.which)return t.$selectionUl.focus(),!1})},afterSelect:function(t){this.qs1.cache(),this.qs2.cache(),e.setProfiles($(e.refs.selectBox).val())},afterDeselect:function(t){this.qs1.cache(),this.qs2.cache(),e.setProfiles($(e.refs.selectBox).val())},cssClass:"fluid-size"})},refreshSelectBox:function(){$(this.refs.selectBox).multiSelect("refresh")},deselectAll:function(){$(this.refs.selectBox).multiSelect("deselect_all")},selectAll:function(){$(this.refs.selectBox).multiSelect("select_all")},setProfiles:function(e){var t=this.state.form,a=[];null!=e?(t.data.profiles=e,a=this.state.options.filter(function(t){return-1==e.indexOf(t.profile_no)})):(t.data.profiles=[],a=this.state.options),this.setState({form:t,unselected:a})},setPrintMode:function(e){e.target.checked&&this.setState({printMode:e.target.value},this.initProfileEndpoint(e.target.value))},setFormProp:function(e){var t=this.state.form;t.data[e.target.name]=e.target.value,this.setState({form:t})},setErrors:function(e){var t=this.state.form;t.errors=e,this.setState({form:t})},getError:function(e){var t=this.state.form.errors;for(var a in t)if(a==e)return t[e];return null},getValidationState:function(e){return null!=this.getError(e)?"error":null},submit:function(e){e.preventDefault();var t=this,a=t.state.form.data;t.requestTransmit=$.ajax({url:Routing.generate("ajax_post_close_transactions",{proId:this.props.proId}),type:"POST",data:a}).done(function(e){t.props.onHide()}).fail(function(e){t.setErrors(e.responseJSON)})},popupCenter:function(e,t,a,n){var l=void 0!=window.screenLeft?window.screenLeft:screen.left,r=void 0!=window.screenTop?window.screenTop:screen.top,o=0,s=0;o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var c=o/2-a/2+l,i=s/2-n/2+r,m=window.open(e,t,"scrollbars=yes, width="+a+", height="+n+", top="+i+", left="+c);window.focus&&m.focus()},isEmpty:function(e){return null==e||""==e},render:function(){return React.createElement(Modal,{enforceFocus:!1,backdrop:"static",dialogClassName:"modal-custom-85",show:this.props.show,onHide:this.props.onHide},React.createElement(Modal.Header,{closeButton:!0},React.createElement(Modal.Title,null,"Post Transactions")),React.createElement(Modal.Body,{bsClass:"modal-body overflow-auto"},React.createElement("form",{onSubmit:this.submit,id:"posting-form"},React.createElement("div",{className:"col-md-4 no-padding"},React.createElement(FormGroup,{controlId:"formEventName",validationState:this.getValidationState("closingDate")},React.createElement(ControlLabel,null," Unposted Closed Dates : "),React.createElement("select",{id:"unposted_date_select2",className:"form-control form-filter input-sm",name:"hospitalName"}),React.createElement(HelpBlock,null,this.getError("closingDate")))),React.createElement("div",{className:"col-md-12 no-padding"},React.createElement("div",{className:"text-right"},React.createElement("button",{type:"button",onClick:this.deselectAll,className:"btn btn-xs btn-default",style:{marginRight:"5px"}},"Deselect All"),React.createElement("button",{type:"button",onClick:this.selectAll,className:"btn btn-xs btn-success"},"Select All"))),React.createElement("div",{className:"clearfix"}),React.createElement("div",{className:"col-md-6 no-padding"},React.createElement("div",null,React.createElement("strong",null,"Available :")," ",this.state.unselected.length)),React.createElement("div",{className:"col-md-6 "},React.createElement("div",{style:{marginLeft:"32px"}},React.createElement("strong",null,"Selected : ")," ",this.state.form.data.profiles.length)),React.createElement(FormGroup,{controlId:"formProfiles",validationState:this.getValidationState("profiles")},React.createElement("select",{multiple:!0,ref:"selectBox",className:"searchable",id:"contracts",name:"profiles[]"},this.state.options.map(function(e){return React.createElement("option",{key:e.trn_id,value:e.trn_id},"Trn : ",e.trn_no," | Date :  ",e.trn_date," | Released Date : ",e.release_date,"  | Applicant : ",e.applicant_name," ( ",e.barangay_name,",",e.municipality_name," )")})),React.createElement("div",{className:"text-right"},React.createElement(HelpBlock,null,this.getError("profiles")))),React.createElement("div",{className:"clearfix"}),React.createElement("div",{className:"text-right m-t-md"},React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.onHide},"Cancel"),React.createElement("button",{type:"submit",className:"btn btn-primary",style:{marginLeft:"10px"}},"Submit")))))}});window.FinancialAssistancePostingModal=FinancialAssistancePostingModal;var FinancialAssistanceMonthlySummaryReportDatatable=React.createClass({displayName:"FinancialAssistanceMonthlySummaryReportDatatable",getInitialState:function(){return{target:null,typingTimer:null,doneTypingInterval:1500,showReleasedListModal:!1,user:null,filters:{electId:null,provinceCode:null,proId:null},overview:{data:{total_granted_amt:0,total_dswd_medical:0,total_dswd_opd:0,total_doh_maip_medical:0,total_doh_maip_opd:0,total_beneficiary:0}}}},componentDidMount:function(){this.loadUser(window.userId),this.initDatatable(),this.loadOverview()},componentDidUpdate:function(){this.reload()},loadUser:function(e){var t=this;t.requestUser=$.ajax({url:Routing.generate("ajax_get_user",{id:e}),type:"GET"}).done(function(e){t.setState({user:e})})},loadOverview:function(){var e=this;e.requestUser=$.ajax({url:Routing.generate("ajax_get_financial_assistance_daily_summary_breakdown",{startDate:e.props.startDate,endDate:e.props.endDate}),type:"GET"}).done(function(t){console.log("overview"),console.log(t),e.setState({overview:t})})},initDatatable:function(){var e=this,t=(new Datatable,$("#financial_assistance_monthly_summary")),a=new Datatable,n=Routing.generate("ajax_get_datatable_financial_assistance_monthly_summary_report",{},!0);a.init({src:t,loadingMessage:"Loading...",dataTable:{bState:!0,autoWidth:!0,deferRender:!0,pageLength:100,buttons:["copy",{extend:"excel",title:function(){return"MONTHLY SUMMARY REPORT"}},{extend:"print",title:function(){return"MONTHLY SUMMARY REPORT"}}],dom:"Brtipl",ajax:{url:n,type:"GET",data:function(t){t.startDate=e.props.startDate,t.endDate=e.props.endDate}},columnDefs:[{orderable:!1,targets:[0,1,2,3,4,5,6,7,8,9,10]},{className:"align-center",targets:[0,3]}],order:[[0,"desc"]],columns:[{data:null,className:"text-center",width:30,render:function(e,t,a,n){return n.settings._iDisplayStart+n.row+1}},{data:"month_name",width:50,className:"text-center",render:function(e){return"<a href='javascript:void(0);' class='release-button'><strong>"+e+"</strong></a>"}},{data:"total_doh_maip_opd",width:50,className:"text-center",render:function(t){return e.numberWithCommas(t)}},{data:"total_doh_maip_medical",className:"text-center",width:100,render:function(t){return e.numberWithCommas(t)}},{data:"total_doh_maip_medical",className:"text-center",width:100,render:function(t,a,n){return e.numberWithCommas(parseInt(n.total_doh_maip_opd)+parseInt(n.total_doh_maip_medical))}},{data:"total_dswd_opd",className:"text-center",width:50,render:function(t){return e.numberWithCommas(t)}},{data:"total_dswd_medical",className:"text-center",width:100,render:function(t){return e.numberWithCommas(t)}},{data:"total_doh_maip_medical",className:"text-center",width:100,render:function(t,a,n){return e.numberWithCommas(parseInt(n.total_dswd_opd)+parseInt(n.total_dswd_medical))}},{data:"total_beneficiary",className:"text-center",width:100,render:function(t,a,n){return e.numberWithCommas(parseInt(n.total_dswd_opd)+parseInt(n.total_dswd_medical)+parseInt(n.total_doh_maip_opd)+parseInt(n.total_doh_maip_medical))}},{data:"total_beneficiary",className:"text-center",width:100,render:function(t){return e.numberWithCommas(t)}},{data:"total_granted_amt",className:"text-center",width:50,render:function(t){return"<a href='javascript:void(0);' class='release-button'><strong>"+e.numberWithCommas(parseFloat(t).toFixed(2))+"</strong></a>"}}]}}),t.on("click",".release-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showReleasedListModal:!0,target:t.month_name})}),t.on("click",".delete-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.delete(t.id)}),e.grid=a},delete:function(e){var t=this;confirm("Are you sure you want to delete this summary?")&&(t.requestDelete=$.ajax({url:Routing.generate("ajax_delete_financial_assistance_monthly_summary",{id:e}),type:"DELETE"}).done(function(e){t.reload()}))},handleFilterChange:function(){var e=this;clearTimeout(this.state.typingTimer),this.state.typingTimer=setTimeout(function(){e.reload()},this.state.doneTypingInterval)},reload:function(){null!=this.grid&&this.grid.getDataTable().ajax.reload()},isEmpty:function(e){return null==e||""==e||"undefined"==e||e<=0},closeReleasedListModal:function(){this.setState({showReleasedListModal:!1})},numberWithCommas:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},render:function(){return React.createElement("div",null,this.state.showReleasedListModal&&React.createElement(FinancialAssistanceMonthlyListModal,{proId:3,show:this.state.showReleasedListModal,notify:this.props.notify,reload:this.reload,month:this.state.target,startDate:this.props.startDate,endDate:this.props.endDate,onHide:this.closeReleasedListModal}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12 text-right"},React.createElement("h3",null," Overall Amount Released : ",this.numberWithCommas(self.parseFloat(this.state.overview.data.total_granted_amt).toFixed(2))))),React.createElement("div",{className:"table-container",style:{marginTop:"60px"}},React.createElement("table",{id:"financial_assistance_monthly_summary",className:"table table-striped table-bordered",width:"100%"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{rowSpan:"2",className:"text-center"},"No"),React.createElement("th",{rowSpan:"2",className:"text-center"},"Month"),React.createElement("th",{colSpan:"3",className:"text-center"},"DOH transactions"),React.createElement("th",{colSpan:"3",className:"text-center"},"DSWD transactions"),React.createElement("th",{rowSpan:"2",className:"text-center"},"TOTAL transactions"),React.createElement("th",{rowSpan:"2",className:"text-center"},"TOTAL NO. OF BENEFICIARIES"),React.createElement("th",{rowSpan:"2",className:"text-center"},"TOTAL AMOUNT RELEASED")),React.createElement("tr",null,React.createElement("th",{className:"text-center"},"OPD"),React.createElement("th",{className:"text-center"},"MEDICAL"),React.createElement("th",{className:"text-center"},"TOTAL"),React.createElement("th",{className:"text-center"},"OPD"),React.createElement("th",{className:"text-center"},"MEDICAL"),React.createElement("th",{className:"text-center"},"TOTAL")),React.createElement("tr",null,React.createElement("th",{className:"text-center",colSpan:"2"},"OVERALL TOTAL"),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_doh_maip_opd))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_doh_maip_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_doh_maip_opd)+self.parseFloat(this.state.overview.data.total_doh_maip_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_dswd_opd))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_dswd_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_dswd_opd)+self.parseFloat(this.state.overview.data.total_dswd_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_dswd_opd)+self.parseFloat(this.state.overview.data.total_dswd_medical)+self.parseFloat(this.state.overview.data.total_doh_maip_opd)+self.parseFloat(this.state.overview.data.total_doh_maip_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_beneficiary))),React.createElement("th",{className:"text-center"}," ",this.numberWithCommas(self.parseFloat(this.state.overview.data.total_granted_amt).toFixed(2))))),React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null))))))}});window.FinancialAssistanceMonthlySummaryReportDatatable=FinancialAssistanceMonthlySummaryReportDatatable;var FinancialAssistanceMunicipalitySummaryReportDatatable=React.createClass({displayName:"FinancialAssistanceMunicipalitySummaryReportDatatable",getInitialState:function(){return{target:null,typingTimer:null,doneTypingInterval:1500,showReleasedListModal:!1,user:null,filters:{electId:null,provinceCode:null,proId:null},overview:{data:{total_granted_amt:0,total_dswd_medical:0,total_dswd_opd:0,total_doh_maip_medical:0,total_doh_maip_opd:0,total_beneficiary:0}}}},componentDidMount:function(){this.loadUser(window.userId),this.initDatatable(),this.loadOverview()},componentDidUpdate:function(){this.reload()},loadUser:function(e){var t=this;t.requestUser=$.ajax({url:Routing.generate("ajax_get_user",{id:e}),type:"GET"}).done(function(e){t.setState({user:e})})},loadOverview:function(){var e=this;e.requestUser=$.ajax({url:Routing.generate("ajax_get_financial_assistance_daily_summary_breakdown",{startDate:e.props.startDate,endDate:e.props.endDate}),type:"GET"}).done(function(t){console.log("overview"),console.log(t),e.setState({overview:t})})},initDatatable:function(){var e=this,t=(new Datatable,$("#financial_assistance_daily_summary")),a=new Datatable,n=Routing.generate("ajax_get_datatable_financial_assistance_municipality_summary_report",{},!0);a.init({src:t,loadingMessage:"Loading...",dataTable:{bState:!0,autoWidth:!0,deferRender:!0,pageLength:100,buttons:["copy",{extend:"excel",title:function(){return"MUNICIPALITY SUMMARY REPORT"}},{extend:"print",title:function(){return"MUNICIPALITY SUMMARY REPORT"}}],dom:"Brtipl",ajax:{url:n,type:"GET",data:function(t){t.startDate=e.props.startDate,t.endDate=e.props.endDate}},columnDefs:[{orderable:!1,targets:[0,1,2,3,4,5,6,7,8,9,10]},{className:"align-center",targets:[0,3]}],order:[[0,"desc"]],columns:[{data:null,className:"text-center",width:30,render:function(e,t,a,n){return n.settings._iDisplayStart+n.row+1}},{data:"municipality_name",width:50,className:"text-center",render:function(e){return"<a href='javascript:void(0);' class='release-button'><strong>"+e+"</strong></a>"}},{data:"total_doh_maip_opd",width:50,className:"text-center",render:function(t){return e.numberWithCommas(t)}},{data:"total_doh_maip_medical",className:"text-center",width:100,render:function(t){return e.numberWithCommas(t)}},{data:"total_doh_maip_medical",className:"text-center",width:100,render:function(t,a,n){return e.numberWithCommas(parseInt(n.total_doh_maip_opd)+parseInt(n.total_doh_maip_medical))}},{data:"total_dswd_opd",className:"text-center",width:50,render:function(t){return e.numberWithCommas(t)}},{data:"total_dswd_medical",className:"text-center",width:100,render:function(t){return e.numberWithCommas(t)}},{data:"total_doh_maip_medical",className:"text-center",width:100,render:function(t,a,n){return e.numberWithCommas(parseInt(n.total_dswd_opd)+parseInt(n.total_dswd_medical))}},{data:"total_beneficiary",className:"text-center",width:100,render:function(t,a,n){return e.numberWithCommas(parseInt(n.total_dswd_opd)+parseInt(n.total_dswd_medical)+parseInt(n.total_doh_maip_opd)+parseInt(n.total_doh_maip_medical))}},{data:"total_beneficiary",className:"text-center",width:100,render:function(t){return e.numberWithCommas(t)}},{data:"total_granted_amt",className:"text-center",width:50,render:function(t){return"<a href='javascript:void(0);' class='release-button'><strong>"+e.numberWithCommas(parseFloat(t).toFixed(2))+"</strong></a>"}}]}}),t.on("click",".release-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showReleasedListModal:!0,target:t.municipality_name})}),t.on("click",".delete-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.delete(t.id)}),e.grid=a},delete:function(e){var t=this;confirm("Are you sure you want to delete this summary?")&&(t.requestDelete=$.ajax({url:Routing.generate("ajax_delete_financial_assistance_daily_summary",{id:e}),type:"DELETE"}).done(function(e){t.reload()}))},handleFilterChange:function(){var e=this;clearTimeout(this.state.typingTimer),this.state.typingTimer=setTimeout(function(){e.reload()},this.state.doneTypingInterval)},reload:function(){null!=this.grid&&this.grid.getDataTable().ajax.reload()},isEmpty:function(e){return null==e||""==e||"undefined"==e||e<=0},closeReleasedListModal:function(){this.setState({showReleasedListModal:!1})},numberWithCommas:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},render:function(){return React.createElement("div",null,this.state.showReleasedListModal&&React.createElement(FinancialAssistanceMunicipalityListModal,{proId:3,show:this.state.showReleasedListModal,notify:this.props.notify,reload:this.reload,municipalityName:this.state.target,startDate:this.props.startDate,endDate:this.props.endDate,onHide:this.closeReleasedListModal}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12 text-right"},React.createElement("h3",null," Overall Amount Released : ",this.numberWithCommas(self.parseFloat(this.state.overview.data.total_granted_amt).toFixed(2))))),React.createElement("div",{className:"table-container",style:{marginTop:"60px"}},React.createElement("table",{id:"financial_assistance_daily_summary",className:"table table-striped table-bordered",width:"100%"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{rowSpan:"2",className:"text-center"},"No"),React.createElement("th",{rowSpan:"2",className:"text-center"},"Municipality"),React.createElement("th",{colSpan:"3",className:"text-center"},"DOH transactions"),React.createElement("th",{colSpan:"3",className:"text-center"},"DSWD transactions"),React.createElement("th",{rowSpan:"2",className:"text-center"},"TOTAL transactions"),React.createElement("th",{rowSpan:"2",className:"text-center"},"TOTAL NO. OF BENEFICIARIES"),React.createElement("th",{rowSpan:"2",className:"text-center"},"TOTAL AMOUNT RELEASED")),React.createElement("tr",null,React.createElement("th",{className:"text-center"},"OPD"),React.createElement("th",{className:"text-center"},"MEDICAL"),React.createElement("th",{className:"text-center"},"TOTAL"),React.createElement("th",{className:"text-center"},"OPD"),React.createElement("th",{className:"text-center"},"MEDICAL"),React.createElement("th",{className:"text-center"},"TOTAL")),React.createElement("tr",null,React.createElement("th",{className:"text-center",colSpan:"2"},"OVERALL TOTAL"),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_doh_maip_opd))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_doh_maip_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_doh_maip_opd)+self.parseFloat(this.state.overview.data.total_doh_maip_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_dswd_opd))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_dswd_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_dswd_opd)+self.parseFloat(this.state.overview.data.total_dswd_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_dswd_opd)+self.parseFloat(this.state.overview.data.total_dswd_medical)+self.parseFloat(this.state.overview.data.total_doh_maip_opd)+self.parseFloat(this.state.overview.data.total_doh_maip_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_beneficiary))),React.createElement("th",{className:"text-center"}," ",this.numberWithCommas(self.parseFloat(this.state.overview.data.total_granted_amt).toFixed(2))))),React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null))))))}});window.FinancialAssistanceMunicipalitySummaryReportDatatable=FinancialAssistanceMunicipalitySummaryReportDatatable;var FinancialAssistanceDailySummaryReportDatatable=React.createClass({displayName:"FinancialAssistanceDailySummaryReportDatatable",getInitialState:function(){return{target:null,typingTimer:null,doneTypingInterval:1500,showReleasedListModal:!1,user:null,filters:{electId:null,provinceCode:null,proId:null},overview:{data:{total_granted_amt:0,total_dswd_medical:0,total_dswd_opd:0,total_doh_maip_medical:0,total_doh_maip_opd:0,total_beneficiary:0}}}},componentDidMount:function(){this.loadUser(window.userId),this.initDatatable(),this.loadOverview(),console.log("parameters did changed"),console.log(this.props.startDate),console.log(this.props.endDate)},componentDidUpdate:function(){this.reload(),console.log("parameters did changed"),console.log(this.props.startDate),console.log(this.props.endDate)},loadUser:function(e){var t=this;t.requestUser=$.ajax({url:Routing.generate("ajax_get_user",{id:e}),type:"GET"}).done(function(e){t.setState({user:e})})},loadOverview:function(){var e=this;e.requestUser=$.ajax({url:Routing.generate("ajax_get_financial_assistance_daily_summary_breakdown",{startDate:e.props.startDate,endDate:e.props.endDate}),type:"GET"}).done(function(t){console.log("overview"),console.log(t),e.setState({overview:t})})},initDatatable:function(){var e=this,t=(new Datatable,$("#financial_assistance_daily_summary")),a=new Datatable,n=Routing.generate("ajax_get_datatable_financial_assistance_daily_summary_report",{},!0);a.init({src:t,loadingMessage:"Loading...",dataTable:{buttons:["copy",{extend:"excel",title:function(){return"DAILY SUMMARY REPORT"}},{extend:"print",title:function(){return"DAILY SUMMARY REPORT"}}],dom:"Brtipl",bState:!0,autoWidth:!0,deferRender:!0,pageLength:100,ajax:{url:n,type:"GET",data:function(t){t.startDate=e.props.startDate,t.endDate=e.props.endDate}},columnDefs:[{orderable:!1,targets:[0,1,2,3,4,5,6,7,8,9,10]},{className:"text-center",targets:[0,1,2,3,4,5,6,7,8,9,10]}],order:[[0,"desc"]],columns:[{data:null,className:"text-center",width:30,render:function(e,t,a,n){return n.settings._iDisplayStart+n.row+1}},{data:"closing_date",width:50,className:"text-center",render:function(e){return"<a href='javascript:void(0);' class='release-button'><strong>"+e+"</strong></a>"}},{data:"total_doh_maip_opd",width:50,className:"text-center",render:function(t){return e.numberWithCommas(t)}},{data:"total_doh_maip_medical",className:"text-center",width:100,render:function(t){return e.numberWithCommas(t)}},{data:"total_doh_maip_medical",className:"text-center",width:100,render:function(t,a,n){return e.numberWithCommas(parseInt(n.total_doh_maip_opd)+parseInt(n.total_doh_maip_medical))}},{data:"total_dswd_opd",className:"text-center",width:50,render:function(t){return e.numberWithCommas(t)}},{data:"total_dswd_medical",className:"text-center",width:100,render:function(t){return e.numberWithCommas(t)}},{data:"total_doh_maip_medical",className:"text-center",width:100,render:function(t,a,n){return e.numberWithCommas(parseInt(n.total_dswd_opd)+parseInt(n.total_dswd_medical))}},{data:"total_beneficiary",className:"text-center",width:100,render:function(t,a,n){return e.numberWithCommas(parseInt(n.total_dswd_opd)+parseInt(n.total_dswd_medical)+parseInt(n.total_doh_maip_opd)+parseInt(n.total_doh_maip_medical))}},{data:"total_beneficiary",className:"text-center",width:100,render:function(t){return e.numberWithCommas(t)}},{data:"total_granted_amt",className:"text-center",width:50,render:function(t){return"<a href='javascript:void(0);' class='release-button'><strong>"+e.numberWithCommas(parseFloat(t).toFixed(2))+"</strong></a>"}}]}}),t.on("click",".release-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showReleasedListModal:!0,target:t.id})}),t.on("click",".delete-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.delete(t.id)}),e.grid=a},delete:function(e){var t=this;confirm("Are you sure you want to delete this summary?")&&(t.requestDelete=$.ajax({url:Routing.generate("ajax_delete_financial_assistance_daily_summary",{id:e}),type:"DELETE"}).done(function(e){t.reload()}))},handleFilterChange:function(){var e=this;clearTimeout(this.state.typingTimer),this.state.typingTimer=setTimeout(function(){e.reload()},this.state.doneTypingInterval)},reload:function(){null!=this.grid&&this.grid.getDataTable().ajax.reload()},isEmpty:function(e){return null==e||""==e||"undefined"==e||e<=0},closeReleasedListModal:function(){this.setState({showReleasedListModal:!1})},numberWithCommas:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},printTable:function(e){var t=document.getElementById(e).innerHTML,a=document.body.innerHTML;console.log("printing table"),document.body.innerHTML=t,window.print(),document.body.innerHTML=a},print:function(){this.printTable("table_content")},render:function(){return React.createElement("div",null,this.state.showReleasedListModal&&React.createElement(FinancialAssistanceReleasedListModal,{proId:3,show:this.state.showReleasedListModal,notify:this.props.notify,reload:this.reload,id:this.state.target,onHide:this.closeReleasedListModal}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12 text-right"},React.createElement("h3",null," Overall Amount Released :  ",this.numberWithCommas(self.parseFloat(this.state.overview.data.total_granted_amt).toFixed(2))))),React.createElement("div",{id:"table_content",className:"table-container",style:{marginTop:"60px"}},React.createElement("table",{id:"financial_assistance_daily_summary",className:"table table-striped table-bordered",width:"100%"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{rowSpan:"2",className:"text-center"},"No"),React.createElement("th",{rowSpan:"2",className:"text-center"},"Date"),React.createElement("th",{colSpan:"3",className:"text-center"},"DOH transactions"),React.createElement("th",{colSpan:"3",className:"text-center"},"DSWD transactions"),React.createElement("th",{rowSpan:"2",className:"text-center"},"TOTAL transactions"),React.createElement("th",{rowSpan:"2",className:"text-center"},"TOTAL NO. OF BENEFICIARIES"),React.createElement("th",{rowSpan:"2",className:"text-center"},"TOTAL AMOUNT RELEASED")),React.createElement("tr",null,React.createElement("th",{className:"text-center"},"OPD"),React.createElement("th",{className:"text-center"},"MEDICAL"),React.createElement("th",{className:"text-center"},"TOTAL"),React.createElement("th",{className:"text-center"},"OPD"),React.createElement("th",{className:"text-center"},"MEDICAL"),React.createElement("th",{className:"text-center"},"TOTAL")),React.createElement("tr",null,React.createElement("th",{className:"text-center",colSpan:"2"},"OVERALL TOTAL"),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_doh_maip_opd))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_doh_maip_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_doh_maip_opd)+self.parseFloat(this.state.overview.data.total_doh_maip_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_dswd_opd))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_dswd_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_dswd_opd)+self.parseFloat(this.state.overview.data.total_dswd_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_dswd_opd)+self.parseFloat(this.state.overview.data.total_dswd_medical)+self.parseFloat(this.state.overview.data.total_doh_maip_opd)+self.parseFloat(this.state.overview.data.total_doh_maip_medical))),React.createElement("th",{className:"text-center"},this.numberWithCommas(self.parseFloat(this.state.overview.data.total_beneficiary))),React.createElement("th",{className:"text-center"}," ",this.numberWithCommas(self.parseFloat(this.state.overview.data.total_granted_amt).toFixed(2))))),React.createElement("tbody",{style:{textAlign:"center"}},React.createElement("tr",null,React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null))))))}});window.FinancialAssistanceDailySummaryReportDatatable=FinancialAssistanceDailySummaryReportDatatable;var Modal=ReactBootstrap.Modal,FormGroup=ReactBootstrap.FormGroup,HelpBlock=ReactBootstrap.HelpBlock,ControlLabel=ReactBootstrap.ControlLabel,FormControl=ReactBootstrap.FormControl,FinancialAssistanceClosingModal=React.createClass({displayName:"FinancialAssistanceClosingModal",getInitialState:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();return a<10&&(a="0"+a),t<10&&(t="0"+t),{unselected:[],options:[],form:{data:{profiles:[],closingDate:n+"-"+a+"-"+t},errors:[]}}},componentDidMount:function(){this.initComponents(),this.loadData()},componentWillUnmount:function(){this.isEmpty(this.requestProfiles)||this.requestProfiles.abort()},loadData:function(){var e=this,t=Routing.generate("ajax_get_unclosed_transactions");e.requestProfiles=$.ajax({url:t,type:"GET"}).done(function(t){
e.setState({options:t,unselected:t}),setTimeout(e.refreshSelectBox,2e3)})},initComponents:function(){this.initMultiSelect()},initMultiSelect:function(){var e=this,t=this.refs.selectBox;$(t).multiSelect({selectableOptgroup:!0,selectableHeader:"<input placeholder='Enter Name' type='text' class='form-control' autocomplete='off' style='text-transform:uppercase;margin-bottom:5px;'>",selectionHeader:"<input placeholder='Enter Name' type='text' class='form-control' autocomplete='off' style='text-transform:uppercase;margin-bottom:5px;'>",afterInit:function(e){var t=this,a=t.$selectableUl.prev(),n=t.$selectionUl.prev(),l="#"+t.$container.attr("id")+" .ms-elem-selectable:not(.ms-selected)",r="#"+t.$container.attr("id")+" .ms-elem-selection.ms-selected";t.qs1=a.quicksearch(l).on("keydown",function(e){if(40===e.which)return t.$selectableUl.focus(),!1}),t.qs2=n.quicksearch(r).on("keydown",function(e){if(40==e.which)return t.$selectionUl.focus(),!1})},afterSelect:function(t){this.qs1.cache(),this.qs2.cache(),e.setProfiles($(e.refs.selectBox).val())},afterDeselect:function(t){this.qs1.cache(),this.qs2.cache(),e.setProfiles($(e.refs.selectBox).val())},cssClass:"fluid-size"})},refreshSelectBox:function(){$(this.refs.selectBox).multiSelect("refresh")},deselectAll:function(){$(this.refs.selectBox).multiSelect("deselect_all")},selectAll:function(){$(this.refs.selectBox).multiSelect("select_all")},setProfiles:function(e){var t=this.state.form,a=[];null!=e?(t.data.profiles=e,a=this.state.options.filter(function(t){return-1==e.indexOf(t.profile_no)})):(t.data.profiles=[],a=this.state.options),this.setState({form:t,unselected:a})},setPrintMode:function(e){e.target.checked&&this.setState({printMode:e.target.value},this.initProfileEndpoint(e.target.value))},setFormProp:function(e){var t=this.state.form;t.data[e.target.name]=e.target.value,this.setState({form:t})},setErrors:function(e){var t=this.state.form;t.errors=e,this.setState({form:t})},getError:function(e){var t=this.state.form.errors;for(var a in t)if(a==e)return t[e];return null},getValidationState:function(e){return null!=this.getError(e)?"error":null},submit:function(e){e.preventDefault();var t=this,a=t.state.form.data;t.requestTransmit=$.ajax({url:Routing.generate("ajax_post_close_transactions",{proId:this.props.proId}),type:"POST",data:a}).done(function(e){t.props.onHide()}).fail(function(e){t.setErrors(e.responseJSON)})},popupCenter:function(e,t,a,n){var l=void 0!=window.screenLeft?window.screenLeft:screen.left,r=void 0!=window.screenTop?window.screenTop:screen.top,o=0,s=0;o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var c=o/2-a/2+l,i=s/2-n/2+r,m=window.open(e,t,"scrollbars=yes, width="+a+", height="+n+", top="+i+", left="+c);window.focus&&m.focus()},isEmpty:function(e){return null==e||""==e},render:function(){return React.createElement(Modal,{enforceFocus:!1,backdrop:"static",dialogClassName:"modal-custom-85",show:this.props.show,onHide:this.props.onHide},React.createElement(Modal.Header,{closeButton:!0},React.createElement(Modal.Title,null,"Close Transactions")),React.createElement(Modal.Body,{bsClass:"modal-body overflow-auto"},React.createElement("form",{onSubmit:this.submit},React.createElement("div",{className:"col-md-2 no-padding"},React.createElement(FormGroup,{controlId:"formEventName",validationState:this.getValidationState("closingDate")},React.createElement(ControlLabel,null," Closing Date : "),React.createElement("input",{type:"date",value:this.state.form.data.closingDate,className:"input-sm form-control",onChange:this.setFormProp,name:"closingDate"}),React.createElement(HelpBlock,null,this.getError("closingDate")))),React.createElement("div",{className:"col-md-12 no-padding"},React.createElement("div",{className:"text-right"},React.createElement("button",{type:"button",onClick:this.deselectAll,className:"btn btn-xs btn-default",style:{marginRight:"5px"}},"Deselect All"),React.createElement("button",{type:"button",onClick:this.selectAll,className:"btn btn-xs btn-success"},"Select All"))),React.createElement("div",{className:"clearfix"}),React.createElement("div",{className:"col-md-6 no-padding"},React.createElement("div",null,React.createElement("strong",null,"Available :")," ",this.state.unselected.length)),React.createElement("div",{className:"col-md-6 "},React.createElement("div",{style:{marginLeft:"32px"}},React.createElement("strong",null,"Selected : ")," ",this.state.form.data.profiles.length)),React.createElement(FormGroup,{controlId:"formProfiles",validationState:this.getValidationState("profiles")},React.createElement("select",{multiple:!0,ref:"selectBox",className:"searchable",id:"contracts",name:"profiles[]"},this.state.options.map(function(e){return React.createElement("option",{key:e.trn_id,value:e.trn_id},"Trn : ",e.trn_no," | Date :  ",e.trn_date," | Released Date : ",e.release_date,"  | Applicant : ",e.applicant_name," ( ",e.barangay_name,",",e.municipality_name," )")})),React.createElement("div",{className:"text-right"},React.createElement(HelpBlock,null,this.getError("profiles")))),React.createElement("div",{className:"clearfix"}),React.createElement("div",{className:"text-right m-t-md"},React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.onHide},"Cancel"),React.createElement("button",{type:"submit",className:"btn btn-primary",style:{marginLeft:"10px"}},"Submit")))))}});window.FinancialAssistanceClosingModal=FinancialAssistanceClosingModal;var Modal=ReactBootstrap.Modal,FormGroup=ReactBootstrap.FormGroup,HelpBlock=ReactBootstrap.HelpBlock,ControlLabel=ReactBootstrap.ControlLabel,FormControl=ReactBootstrap.FormControl,FinancialAssistanceReleaseModal=React.createClass({displayName:"FinancialAssistanceReleaseModal",getInitialState:function(){return{form:{data:{trnNo:"",municipalityNo:"",municipalityName:"",barangayNo:"",barangayName:"",applicantName:"",applicantProVoterId:"",beneficiaryName:"",jpmIdNo:"",contactNo:"",typeOfAsst:"",trnDate:"",endorsedBy:"",projectedAmt:0,grantedAmt:0,receivedBy:"",releaseDate:"",releasingOffice:"",personnel:"",remarks:"",status:"",reqType:0,hasReqLetter:0,hasBrgyClearance:0,hasPatientId:0,hasMedCert:0,hasMedAbst:0,hasPromisoryNote:0,hasBillStatement:0,hasPriceQuot:0,hasReqOfPhysician:0,hasReseta:0,hasSocialCastReport:0,hasPoliceReport:0,hasDeathCert:0,isDswdMedical:0,isDswdOpd:0,isDohMaipMedical:0,isDohMaipOpd:0},errors:[]}}},render:function(){this.state.form.data;return React.createElement(Modal,{style:{marginTop:"10px"},keyboard:!1,enforceFocus:!1,backdrop:"static",show:this.props.show,onHide:this.props.onHide},React.createElement(Modal.Header,{className:"modal-header bg-blue-dark font-white",closeButton:!0},React.createElement(Modal.Title,null,"Release Form")),React.createElement(Modal.Body,{bsClass:"modal-body overflow-auto"},React.createElement("form",{id:"fa-form"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(FormGroup,{controlId:"formReleaseDate",validationState:this.getValidationState("releaseDate")},React.createElement(ControlLabel,null," Releasing Date : "),React.createElement("input",{type:"date",value:this.state.form.data.releaseDate,className:"input-sm form-control",onChange:this.setFormProp,name:"releaseDate"}),React.createElement(HelpBlock,null,this.getError("releaseDate"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(FormGroup,{controlId:"formReceivedBy",validationState:this.getValidationState("receivedBy")},React.createElement(ControlLabel,null," Applicant/ Receiver Name  : "),React.createElement("select",{id:"receiver_select2",className:"form-control form-filter input-sm",name:"municipalityNo"}),React.createElement(HelpBlock,null,this.getError("receivedBy")))),React.createElement("div",{className:"col-md-6"},React.createElement(FormGroup,{controlId:"formPersonnel",validationState:this.getValidationState("personnel")},React.createElement(ControlLabel,null," Releasing Personnel : "),React.createElement("select",{id:"personnel_select2",className:"form-control form-filter input-sm",name:"municipalityNo"}),React.createElement(HelpBlock,null,this.getError("personnel"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(FormGroup,{controlId:"formProjectedAmt",validationState:this.getValidationState("projectedAmt")},React.createElement(ControlLabel,null," Projected Amount Needed : "),React.createElement(FormControl,{bsClass:"form-control input-sm",type:"number",step:"any",name:"projectedAmt",value:this.state.form.data.projectedAmt,onChange:this.setFormProp}),React.createElement(HelpBlock,null,this.getError("projectedAmt")))),React.createElement("div",{className:"col-md-6"},React.createElement(FormGroup,{controlId:"formGrantedAmt",validationState:this.getValidationState("grantedAmt")},React.createElement(ControlLabel,null," Amount Granted : "),React.createElement(FormControl,{bsClass:"form-control input-sm",type:"number",step:"any",name:"grantedAmt",value:this.state.form.data.grantedAmt,onChange:this.setFormProp}),React.createElement(HelpBlock,null,this.getError("grantedAmt"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(FormGroup,{controlId:"formReleasingOffice",validationState:this.getValidationState("releasingOffice")},React.createElement(ControlLabel,null," Releasing Office : "),React.createElement("select",{id:"office_select2",className:"form-control form-filter input-sm",name:"municipalityNo"}),React.createElement(HelpBlock,null,this.getError("releasingOffice"))))))),React.createElement("div",{className:"clearfix"}),React.createElement("div",{className:"text-right"},React.createElement("button",{type:"button",className:"btn-lg btn-default",style:{marginRight:"5px"},onClick:this.props.onHide},"Close"),React.createElement("button",{type:"button",className:"btn-lg btn-primary",onClick:this.submit},"Submit")))))},componentDidMount:function(){this.loadData(this.props.trnId),this.initSelect2()},loadData:function(e){var t=this;t.requestVoter=$.ajax({url:Routing.generate("ajax_get_financial_assistance_full",{trnId:e}),type:"GET"}).done(function(e){var a=t.state.form;console.log("data has been reiceved"),console.log(e),a.data.trnNo=e.trn_no,a.data.municipalityNo=e.municipality_no,a.data.municipalityName=e.municipality_name,a.data.barangayNo=e.barangay_no,a.data.barangayName=e.barangay_name,a.data.applicantName=e.applicant_name,a.data.applicantProVoterId=e.applicant_pro_voter_id,a.data.beneficiaryName=e.beneficiary_name,a.data.jpmIdNo=e.jpm_id_no,a.data.contactNo=e.contact_no,a.data.typeOfAsst=e.type_of_asst,a.data.trnDate=e.trn_date,a.data.endorsedBy=e.endorsed_by,a.data.projectedAmt=e.projected_amt,a.data.grantedAmt=e.granted_amt,a.data.receivedBy=e.received_by,a.data.releaseDate=e.release_date,a.data.releasingOffice=e.releasing_office,a.data.personnel=e.personnel,a.data.remarks=e.remarks,a.data.status=e.status,a.data.reqType=e.req_type,a.data.hasReqLetter=e.has_req_letter,a.data.hasBrgyClearance=e.has_brgy_clearance,a.data.hasPatientId=e.has_patient_id,a.data.hasMedCert=e.has_med_cert,a.data.hasMedAbst=e.has_med_abst,a.data.hasPromisoryNote=e.has_promisory_note,a.data.hasBillStatement=e.has_bill_statement,a.data.hasPriceQuot=e.has_price_quot,a.data.hasReqOfPhysician=e.has_req_of_physician,a.data.hasReseta=e.has_reseta,a.data.hasSocialCastReport=e.has_social_cast_report,a.data.hasPoliceReport=e.has_police_report,a.data.hasDeathCert=e.has_death_cert,a.data.isDswdMedical=e.is_dswd_medical,a.data.isDswdOpd=e.is_dswd_opd,a.data.isDohMaipMedical=e.is_doh_maip_medical,a.data.isDohMaipOpd=e.is_doh_maip_opd,t.setState({form:a},t.reinitSelect2)})},initSelect2:function(){var e=this;$("#fa-form #municipality_select2").select2({casesentitive:!1,placeholder:"Select City/Municipality",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_municipality"),data:function(e){return{searchText:e.term,provinceCode:53}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.municipality_no,text:e.name}})}}}}),$("#fa-form #barangay_select2").select2({casesentitive:!1,placeholder:"Select Barangay",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_barangay"),data:function(e){return{searchText:e.term,municipalityNo:$("#fa-form #municipality_select2").val(),provinceCode:53}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.brgy_no,text:e.name}})}}}}),$("#fa-form #beneficiary_select2").select2({casesentitive:!1,placeholder:"Select Beneficiary Name",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_beneficiary"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.beneficiary_name,text:e.beneficiary_name}})}}}}),$("#fa-form #type_of_assistance_select2").select2({casesentitive:!1,placeholder:"Select Type Of Assistance",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_type_of_assistance"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.type_of_asst,text:e.type_of_asst}})}}}}),$("#fa-form #endorser_select2").select2({casesentitive:!1,placeholder:"Select Endorser",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_endorser"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.endorsed_by,text:e.endorsed_by}})}}}}),$("#fa-form #receiver_select2").select2({casesentitive:!1,placeholder:"Select Receiver",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_receiver"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.received_by,text:e.received_by}})}}}}),$("#fa-form #personnel_select2").select2({casesentitive:!1,placeholder:"Select Releasing Personnel",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_personnel"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.personnel,text:e.personnel}})}}}}),$("#fa-form #office_select2").select2({casesentitive:!1,placeholder:"Select Releasing Office",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_office"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.releasing_office,text:e.releasing_office}})}}}}),$("#fa-form #voter-select2").select2({casesentitive:!1,placeholder:"Enter Name...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",dropdownCssClass:"custom-option",ajax:{url:Routing.generate("ajax_select2_project_voters"),data:function(e){return{searchText:e.term,electId:4,proId:3,provinceCode:53,municipalityNo:$("#fa-form #municipality_select2").val()}},processResults:function(e,t){return{results:e.map(function(e){var t=1==parseInt(e.has_photo)?"YES":"NO",a=e.voter_name+" ( "+e.municipality_name+", "+e.barangay_name+" ) - PHOTO : "+t;return{id:e.pro_voter_id,text:a}})}}}}),$("#fa-form #municipality_select2").on("change",function(){e.setFormPropValue("municipalityNo",$(this).val())}),$("#fa-form #barangay_select2").on("change",function(){e.setFormPropValue("barangayNo",$(this).val())}),$("#fa-form #beneficiary_select2").on("change",function(){e.setFormPropValue("beneficiaryName",$(this).val())}),$("#fa-form #type_of_assistance_select2").on("change",function(){e.setFormPropValue("typeOfAsst",$(this).val())}),$("#fa-form #endorser_select2").on("change",function(){e.setFormPropValue("endorsedBy",$(this).val())}),$("#fa-form #receiver_select2").on("change",function(){e.setFormPropValue("receivedBy",$(this).val())}),$("#fa-form #personnel_select2").on("change",function(){e.setFormPropValue("personnel",$(this).val())}),$("#fa-form #office_select2").on("change",function(){e.setFormPropValue("releasingOffice",$(this).val())}),$("#fa-form #voter-select2").on("change",function(){e.loadVoter(3,$(this).val())})},loadVoter:function(e,t){var a=this;a.requestVoter=$.ajax({url:Routing.generate("ajax_get_project_voter",{proId:e,proVoterId:t}),type:"GET"}).done(function(e){var t=a.state.form;t.data.applicantName=e.voterName,t.data.jpmIdNo=e.generatedIdNo,t.data.applicantProVoterId=e.proVoterId,console.log("voter"),console.log(t.data),a.setState({form:t})});var n=a.state.form;a.setState({form:n})},reinitSelect2:function(){var e=this.state.form.data;$("#fa-form #municipality_select2").empty().append($("<option/>").val(e.municipalityNo).text(e.municipalityName)).trigger("change"),$("#fa-form #barangay_select2").empty().append($("<option/>").val(e.barangayNo).text(e.barangayName)).trigger("change"),$("#fa-form #voter-select2").empty().append($("<option/>").val(e.applicantProVoterId).text(e.applicantName)).trigger("change"),$("#fa-form #beneficiary_select2").empty().append($("<option/>").val(e.beneficiaryName).text(e.beneficiaryName)).trigger("change"),$("#fa-form #type_of_assistance_select2").empty().append($("<option/>").val(e.typeOfAsst).text(e.typeOfAsst)).trigger("change"),$("#fa-form #endorser_select2").empty().append($("<option/>").val(e.endorsedBy).text(e.endorsedBy)).trigger("change"),$("#fa-form #receiver_select2").empty().append($("<option/>").val(e.receivedBy).text(e.receivedBy)).trigger("change"),$("#fa-form #personnel_select2").empty().append($("<option/>").val(e.personnel).text(e.personnel)).trigger("change"),$("#fa-form #office_select2").empty().append($("<option/>").val(e.releasingOffice).text(e.releasingOffice)).trigger("change")},setFormPropValue:function(e,t){var a=this.state.form;a.data[e]=t,this.setState({form:a})},setFormProp:function(e){var t=this.state.form;t.data[e.target.name]=e.target.value,this.setState({form:t})},setFormCheckProp:function(e){var t=this.state.form;t.data[e.target.name]=e.target.checked?1:0,this.setState({form:t})},setErrors:function(e){var t=this.state.form;t.errors=e,this.setState({form:t})},getError:function(e){var t=this.state.form.errors;for(var a in t)if(a==e)return t[e];return null},getValidationState:function(e){return null!=this.getError(e)?"error":""},isEmpty:function(e){return null==e||""==e},reset:function(){var e=this.state.form;e.errors=[],this.setState({form:e})},submit:function(e){e.preventDefault();var t=this,a=t.state.form.data;a.trnId=t.props.trnId,t.requestPost=$.ajax({url:Routing.generate("ajax_patch_financial_assistance_release",{trnId:t.props.trnId}),data:a,type:"PATCH"}).done(function(e){t.reset(),t.props.reload(),t.props.onHide()}).fail(function(e){t.setErrors(e.responseJSON)})}});window.FinancialAssistanceReleaseModal=FinancialAssistanceReleaseModal;var Modal=ReactBootstrap.Modal,FormGroup=ReactBootstrap.FormGroup,HelpBlock=ReactBootstrap.HelpBlock,ControlLabel=ReactBootstrap.ControlLabel,FormControl=ReactBootstrap.FormControl,FinancialAssistanceCreateNewProfileModal=React.createClass({displayName:"FinancialAssistanceCreateNewProfileModal",getInitialState:function(){return{form:{data:{proVoterId:null},errors:[]},provinceCode:53}},render:function(){return React.createElement(Modal,{style:{marginTop:"150px"},keyboard:!1,dialogClassName:"modal-custom-55",enforceFocus:!1,backdrop:"static",show:this.props.show,onHide:this.props.onHide},React.createElement(Modal.Header,{className:"modal-header bg-blue-dark font-white",closeButton:!0},React.createElement(Modal.Title,null,"New Profile Form")),React.createElement(Modal.Body,{bsClass:"modal-body overflow-auto"},React.createElement("form",{id:"new-voter-create-form",onSubmit:this.submit},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formMunicipalityNo",validationState:this.getValidationState("municipalityNo")},React.createElement("label",{className:"control-label"},"City/Municipality"),React.createElement("select",{id:"municipality_select2",className:"form-control form-filter input-sm",name:"municipalityNo"}),React.createElement(HelpBlock,null,this.getError("municipalityNo")))),React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formBrgyNo",validationState:this.getValidationState("brgyNo")},React.createElement("label",{className:"control-label"},"Barangay"),React.createElement("select",{id:"barangay_select2",className:"form-control form-filter input-sm",name:"brgyNo"}),React.createElement(HelpBlock,null,this.getError("brgyNo"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formLastname",validationState:this.getValidationState("lastname")},React.createElement(ControlLabel,null," Lastname : "),React.createElement("input",{type:"text",value:this.state.form.data.lastname,className:"input-sm form-control",onChange:this.setFormProp,name:"lastname"}),React.createElement(HelpBlock,null,this.getError("lastname")))),React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formFirstname",validationState:this.getValidationState("firstname")},React.createElement(ControlLabel,null," Firstname : "),React.createElement("input",{type:"text",value:this.state.form.data.firstname,className:"input-sm form-control",onChange:this.setFormProp,name:"firstname"}),React.createElement(HelpBlock,null,this.getError("firstname")))),React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formMiddlename",validationState:this.getValidationState("middlename")},React.createElement(ControlLabel,null," Middlename : "),React.createElement("input",{type:"text",value:this.state.form.data.middlename,className:"input-sm form-control",onChange:this.setFormProp,name:"middlename"}),React.createElement(HelpBlock,null,this.getError("middlename")))),React.createElement("div",{className:"col-md-1"},React.createElement(FormGroup,{controlId:"formExtName",validationState:this.getValidationState("extName")},React.createElement(ControlLabel,null," Ext : "),React.createElement("input",{type:"text",value:this.state.form.data.extName,className:"input-sm form-control",onChange:this.setFormProp,name:"extName"}),React.createElement(HelpBlock,null,this.getError("extName"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement(FormGroup,{controlId:"formGender",validationState:this.getValidationState("gender")},React.createElement(ControlLabel,null," Gender : "),React.createElement("select",{className:"input-sm form-control",onChange:this.setFormProp,name:"gender"},React.createElement("option",{value:""},"- Select -"),React.createElement("option",{value:"M"},"Male"),React.createElement("option",{value:"F"},"Female")),React.createElement(HelpBlock,null,this.getError("gender")))),React.createElement("div",{className:"col-md-2"},React.createElement("div",{className:"form-group"},React.createElement("label",{className:"control-label"},"Civil Status"),React.createElement("select",{id:"civil_status_select2",className:"form-control form-filter input-sm",name:"civilStatus"}))),React.createElement("div",{className:"col-md-2"},React.createElement("div",{className:"form-group"},React.createElement("label",{className:"control-label"},"Blood Type"),React.createElement("select",{id:"bloodtype_select2",className:"form-control form-filter input-sm",name:"bloodtype"}))),React.createElement("div",{className:"col-md-2"},React.createElement("div",{className:"form-group"},React.createElement("label",{className:"control-label"},"Occupation"),React.createElement("select",{id:"occupation_select2",className:"form-control form-filter input-sm",name:"occupation"})))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement("div",{className:"form-group"},React.createElement("label",{className:"control-label"},"Religion"),React.createElement("select",{id:"religion_select2",className:"form-control form-filter input-sm",name:"religion"}))),React.createElement("div",{className:"col-md-2"},React.createElement("div",{className:"form-group"},React.createElement("label",{className:"control-label"},"Dialect"),React.createElement("select",{id:"dialect_select2",className:"form-control form-filter input-sm",name:"dialect"}))),React.createElement("div",{className:"col-md-2"},React.createElement("div",{className:"form-group"},React.createElement("label",{className:"control-label"},"Ip Group"),React.createElement("select",{id:"ip_group_select2",className:"form-control form-filter input-sm",name:"ipGroup"})))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},React.createElement(FormGroup,{controlId:"formBirthdate",validationState:this.getValidationState("birthdate")},React.createElement(ControlLabel,null," Birthdate : "),React.createElement("input",{type:"date",value:this.state.form.data.birthdate,className:"input-sm form-control",onChange:this.setFormProp,name:"birthdate"}),React.createElement(HelpBlock,null,this.getError("birthdate")))),React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formCellphoneNo",validationState:this.getValidationState("cellphone")},React.createElement(ControlLabel,null," Cellphone No : "),React.createElement("input",{type:"text",placeholder:"Example : 09283182013",value:this.state.form.data.cellphoneNo,className:"input-sm form-control",onChange:this.setFormProp,name:"cellphoneNo"}),React.createElement(HelpBlock,null,this.getError("cellphone"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12 text-right"},React.createElement("button",{className:"btn btn-primary btn-sm",style:{marginRight:"10px"},type:"submit"}," Submit "),React.createElement("button",{className:"btn btn-default btn-sm",type:"button",onClick:this.props.onHide}," Close "))))))},componentDidMount:function(){this.initSelect2()},initSelect2:function(){var e=this;$("#new-voter-create-form #voter-recruit-select2").select2({casesentitive:!1,placeholder:"Enter Name...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",dropdownCssClass:"custom-option",ajax:{url:Routing.generate("ajax_select2_project_voters"),data:function(t){return{searchText:t.term,electId:e.props.electId,proId:e.props.proId,provinceCode:e.props.provinceCode,municipalityNo:e.props.municipalityNo,brgyNo:e.props.brgyNo}},processResults:function(e,t){return{results:e.map(function(e){var t=e.voter_name+" - "+e.precinct_no+" ( "+e.municipality_name+", "+e.barangay_name+" )";return{id:e.voter_id,text:t}})}}}}),$("#new-voter-create-form #municipality_select2").select2({casesentitive:!1,placeholder:"Select City/Municipality",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_municipality"),data:function(t){return{searchText:t.term,provinceCode:e.state.provinceCode}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.municipality_no,text:e.name}})}}}}),$("#new-voter-create-form #barangay_select2").select2({casesentitive:!1,placeholder:"Select Barangay",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_barangay"),data:function(t){return{searchText:t.term,municipalityNo:$("#new-voter-create-form #municipality_select2").val(),provinceCode:e.state.provinceCode}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.brgy_no,text:e.name}})}}}}),$("#new-voter-create-form #civil_status_select2").select2({casesentitive:!1,placeholder:"Select...",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_civil_status"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.civil_status,text:e.civil_status}})}}}}),$("#new-voter-create-form #bloodtype_select2").select2({casesentitive:!1,placeholder:"Select...",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_bloodtype"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.bloodtype,text:e.bloodtype}})}}}}),$("#new-voter-create-form #occupation_select2").select2({casesentitive:!1,placeholder:"Select...",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_occupation"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.occupation,text:e.occupation}})}}}}),$("#new-voter-create-form #religion_select2").select2({casesentitive:!1,placeholder:"Select...",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_religion"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.religion,text:e.religion}})}}}}),$("#new-voter-create-form #dialect_select2").select2({casesentitive:!1,placeholder:"Select...",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_dialect"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.dialect,text:e.dialect}})}}}}),$("#new-voter-create-form #ip_group_select2").select2({casesentitive:!1,placeholder:"Select...",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_ip_group"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.ip_group,text:e.ip_group}})}}}}),$("#new-voter-create-form #voter_group_select2").select2({casesentitive:!1,placeholder:"Select...",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_voter_group"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.voter_group,text:e.voter_group}})}}}}),$("#new-voter-create-form #other_position_select2").select2({casesentitive:!1,placeholder:"Select...",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_voter_position"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){
return{id:e.position,text:e.position}})}}}}),$("#new-voter-create-form #civil_status_select2").on("change",function(){console.log("civil status changed"),e.setFormPropValue("civilStatus",$(this).val())}),$("#new-voter-create-form #bloodtype_select2").on("change",function(){e.setFormPropValue("bloodtype",$(this).val())}),$("#new-voter-create-form #occupation_select2").on("change",function(){e.setFormPropValue("occupation",$(this).val())}),$("#new-voter-create-form #religion_select2").on("change",function(){e.setFormPropValue("religion",$(this).val())}),$("#new-voter-create-form #dialect_select2").on("change",function(){e.setFormPropValue("dialect",$(this).val())}),$("#new-voter-create-form #ip_group_select2").on("change",function(){e.setFormPropValue("ipGroup",$(this).val())}),$("#new-voter-create-form #municipality_select2").on("change",function(){e.setFormPropValue("municipalityNo",$(this).val())}),$("#new-voter-create-form #barangay_select2").on("change",function(){e.setFormPropValue("brgyNo",$(this).val())});var t=this.props.municipalityNo,a=this.props.municipalityName,n=this.props.barangayNo,l=this.props.barangayName;null!=t&&($("#new-voter-create-form #municipality_select2").empty().append($("<option/>").val(t).text(a)).trigger("change"),$("#new-voter-create-form #barangay_select2").empty().append($("<option/>").val(n).text(l)).trigger("change")),e.props.user.isAdmin||$("#new-voter-create-form #municipality_select2").attr("disabled","disabled")},loadVoter:function(e,t){var a=this;a.requestVoter=$.ajax({url:Routing.generate("ajax_get_project_voter",{proId:e,voterId:t}),type:"GET"}).done(function(e){var t=a.state.form;t.data.nodeLabel=e.voterName,t.data.nodeOrder=10,t.data.municipalityNo=e.municipalityNo,t.data.brgyNo=e.brgyNo,t.data.voterId=e.voterId,t.data.proVoterId=e.proVoterId,t.data.cellphoneNo=a.isEmpty(e.cellphoneNo)?"":e.cellphoneNo,t.data.voterGroup=a.isEmpty(e.voterGroup)?"KFC":e.voterGroup,t.data.remarks=a.isEmpty(e.remarks)?"":e.remarks,$("#voter-group-select2").empty().append($("<option/>").val(t.data.voterGroup).text(t.data.voterGroup)).trigger("change"),a.setState({form:t})})},setFormPropValue:function(e,t){var a=this.state.form;a.data[e]=t,this.setState({form:a})},setFormProp:function(e){var t=this.state.form;t.data[e.target.name]=e.target.value.toUpperCase(),this.setState({form:t})},setErrors:function(e){var t=this.state.form;t.errors=e,this.setState({form:t})},getError:function(e){var t=this.state.form.errors;for(var a in t)if(a==e)return t[e];return null},getValidationState:function(e){return null!=this.getError(e)?"error":""},isEmpty:function(e){return null==e||""==e},reset:function(){var e=this.state.form;e.errors=[],this.setState({form:e})},notify:function(e,t){$.notific8("zindex",11500),$.notific8(e,{heading:"System Message",color:t,life:5e3,verticalEdge:"right",horizontalEdge:"top"})},submit:function(e){e.preventDefault();var t=this,a=t.state.form.data;a.civilStatus=$("#new-voter-create-form #civil_status_select2").val(),a.bloodtype=$("#new-voter-create-form #bloodtype_select2").val(),a.occupation=$("#new-voter-create-form #occupation_select2").val(),a.religion=$("#new-voter-create-form #religion_select2").val(),a.dialect=$("#new-voter-create-form #dialect_select2").val(),a.ipGroup=$("#new-voter-create-form #ip_group_select2").val(),a.voterGroup=$("#new-voter-create-form #voter_group_select2").val(),a.position=$("#new-voter-create-form #other_position_select2").val(),a.electId=t.props.electId,a.proId=t.props.proId,t.requestPost=$.ajax({url:Routing.generate("ajax_post_project_temporary_voter"),data:a,type:"POST"}).done(function(e){t.props.onHide(),t.props.onSuccess(e),t.notify("New record has been saved.","teal")}).fail(function(e){t.setErrors(e.responseJSON),t.notify("Form validation failed!.","ruby")})}});window.FinancialAssistanceCreateNewProfileModal=FinancialAssistanceCreateNewProfileModal;var Modal=ReactBootstrap.Modal,FormGroup=ReactBootstrap.FormGroup,HelpBlock=ReactBootstrap.HelpBlock,ControlLabel=ReactBootstrap.ControlLabel,FormControl=ReactBootstrap.FormControl,FinancialAssistanceEditModal=React.createClass({displayName:"FinancialAssistanceEditModal",getInitialState:function(){return{form:{data:{trnNo:"",municipalityNo:"",municipalityName:"",barangayNo:"",barangayName:"",applicantName:"",applicantProVoterId:"",beneficiaryName:"",jpmIdNo:"",contactNo:"",typeOfAsst:"",trnDate:"",endorsedBy:"",projectedAmt:0,grantedAmt:0,receivedBy:"",releaseDate:"",releasingOffice:"",hospitalName:"",personnel:"",remarks:"",status:"",reqType:0,hasReqLetter:0,hasBrgyClearance:0,hasPatientId:0,hasMedCert:0,hasMedAbst:0,hasPromisoryNote:0,hasBillStatement:0,hasPriceQuot:0,hasReqOfPhysician:0,hasReseta:0,hasSocialCastReport:0,hasPoliceReport:0,hasDeathCert:0,isDswdMedical:0,isDswdOpd:0,isDohMaipMedical:0,isDohMaipOpd:0},errors:[]}}},render:function(){var e=this.state.form.data;return React.createElement(Modal,{style:{marginTop:"10px"},bsSize:"lg",keyboard:!1,enforceFocus:!1,backdrop:"static",show:this.props.show,onHide:this.props.onHide},React.createElement(Modal.Header,{className:"modal-header bg-blue-dark font-white",closeButton:!0},React.createElement(Modal.Title,null,"Edit Financial Assistance Form")),React.createElement(Modal.Body,{bsClass:"modal-body overflow-auto"},React.createElement("form",{id:"fa-form"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("div",null,React.createElement("h3",null,React.createElement("strong",null,"Request Information : "))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement(FormGroup,{controlId:"formMunicipalityNo",validationState:this.getValidationState("municipalityNo")},React.createElement(ControlLabel,null," Municipality : "),React.createElement("select",{id:"municipality_select2",className:"form-control form-filter input-sm",name:"municipalityNo"}),React.createElement(HelpBlock,null,this.getError("municipalityNo")))),React.createElement("div",{className:"col-md-4"},React.createElement(FormGroup,{controlId:"formBarangayNo",validationState:this.getValidationState("barangayNo")},React.createElement(ControlLabel,null," Barangay : "),React.createElement("select",{id:"barangay_select2",className:"form-control form-filter input-sm",name:"barangayNo"}),React.createElement(HelpBlock,null,this.getError("barangayNo"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-8"},React.createElement(FormGroup,{controlId:"formVoterName",validationState:this.getValidationState("voterName")},React.createElement(ControlLabel,null," Applicant Name : "),React.createElement("select",{id:"voter-select2",className:"form-control input-sm"}),React.createElement(HelpBlock,null,this.getError("voterName")))),React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formJpmIdNo",validationState:this.getValidationState("jpmIdNo")},React.createElement(ControlLabel,null," JPM ID No. : "),React.createElement(FormControl,{bsClass:"form-control input-sm",name:"jpmIdNo",value:this.state.form.data.jpmIdNo,onChange:this.setFormProp}),React.createElement(HelpBlock,null,this.getError("jpmIdNo")))),React.createElement("div",{className:"col-md-4"},React.createElement(FormGroup,{controlId:"formBeneficiaryName",validationState:this.getValidationState("beneficiaryName")},React.createElement(ControlLabel,null," Beneficiary Name : "),React.createElement("select",{id:"beneficiary_select2",className:"form-control form-filter input-sm",name:"municipalityNo"}),React.createElement(HelpBlock,null,this.getError("beneficiaryName"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formContactNo",validationState:this.getValidationState("contactNo")},React.createElement(ControlLabel,null," Contact No : "),React.createElement(FormControl,{bsClass:"form-control input-sm",name:"contactNo",value:this.state.form.data.contactNo,onChange:this.setFormProp}),React.createElement(HelpBlock,null,this.getError("contactNo")))),React.createElement("div",{className:"col-md-7"},React.createElement(FormGroup,{controlId:"formHospitalName",validationState:this.getValidationState("hospitalName")},React.createElement(ControlLabel,null," Hospital : "),React.createElement("select",{id:"hospital_select2",className:"form-control form-filter input-sm",name:"hospitalName"}),React.createElement(HelpBlock,null,this.getError("hospitalName"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formEventName",validationState:this.getValidationState("typeOfAsst")},React.createElement(ControlLabel,null," Type of Assistance : "),React.createElement("select",{id:"type_of_assistance_select2",className:"form-control form-filter input-sm",name:"municipalityNo"}),React.createElement(HelpBlock,null,this.getError("typeOfAsst")))),React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formEventName",validationState:this.getValidationState("trnDate")},React.createElement(ControlLabel,null," Date : "),React.createElement("input",{type:"date",value:this.state.form.data.trnDate,className:"input-sm form-control",onChange:this.setFormProp,name:"trnDate"}),React.createElement(HelpBlock,null,this.getError("trnDate")))),React.createElement("div",{className:"col-md-4"},React.createElement(FormGroup,{controlId:"formEventName",validationState:this.getValidationState("endorsedBy")},React.createElement(ControlLabel,null," Endorsed By : "),React.createElement("select",{id:"endorser_select2",className:"form-control form-filter input-sm",name:"municipalityNo"}),React.createElement(HelpBlock,null,this.getError("endorsedBy"))))),React.createElement("div",null,React.createElement("h3",null,React.createElement("strong",null,"Medical Assistance Requirements ",React.createElement("i",null,React.createElement("small",null,"(checklist)"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasReqLetter",checked:1==e.hasReqLetter,onChange:this.setFormCheckProp}),"Request Letter",React.createElement("span",null))),React.createElement("div",{className:"col-md-6"},React.createElement("div",{className:"col-md-3"},"DSWD"),React.createElement("div",{className:"col-md-3"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"isDswdMedical",checked:1==e.isDswdMedical,onChange:this.setFormCheckProp}),"MEDICAL",React.createElement("span",null))),React.createElement("div",{className:"col-md-3"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"isDswdOpd",checked:1==e.isDswdOpd,onChange:this.setFormCheckProp}),"OPD",React.createElement("span",null)))),React.createElement("div",{className:"col-md-6"},React.createElement("div",null,"ADDRESS TO : ",React.createElement("strong",null,"CONG. JOSE CH. ALVAREZ"),React.createElement("br",null),React.createElement("small",null,"Congressman, 2nd District of Palawan"))),React.createElement("div",{className:"col-md-6"},React.createElement("div",{className:"col-md-3"},"DOH-MAIP"),React.createElement("div",{className:"col-md-3"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"isDohMaipMedical",checked:1==e.isDohMaipMedical,onChange:this.setFormCheckProp}),"MEDICAL",React.createElement("span",null))),React.createElement("div",{className:"col-md-3"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"isDohMaipOpd",checked:1==e.isDohMaipOpd,onChange:this.setFormCheckProp}),"OPD",React.createElement("span",null))))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasBrgyClearance",checked:1==e.hasBrgyClearance,onChange:this.setFormCheckProp}),"Barangay Certificate ",React.createElement("i",null,React.createElement("small",null,"(*MED/OPD)")),React.createElement("span",null)),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasPatientId",checked:1==e.hasPatientId,onChange:this.setFormCheckProp}),"VALID ID - PATIENT ",React.createElement("i",null,React.createElement("small",null,"(*MED/OPD) (W/PHOTOCOPY)")),React.createElement("span",null)),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasMedCert",checked:1==e.hasMedCert,onChange:this.setFormCheckProp}),"MEDICAL CERTIFICATE ",React.createElement("i",null,React.createElement("small",null,"(*MED/OPD)")),React.createElement("span",null)),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasMedAbst",checked:1==e.hasMedAbst,onChange:this.setFormCheckProp}),"MEDICAL ABSTRACT ",React.createElement("i",null,React.createElement("small",null,"(*MED)")),React.createElement("span",null)),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasPromisoryNote",checked:1==e.hasPromisoryNote,onChange:this.setFormCheckProp}),"PROMISORY NOTE ",React.createElement("i",null,React.createElement("small",null,"(*MED)")),React.createElement("span",null)),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasBillStatement",checked:1==e.hasBillStatement,onChange:this.setFormCheckProp}),"UPDATED BILLING STATEMENT ",React.createElement("i",null,React.createElement("small",null,"(*MED)")),React.createElement("span",null)),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasPriceQuot",checked:1==e.hasPriceQuot,onChange:this.setFormCheckProp}),"PRICE QUOTATION",React.createElement("i",null,React.createElement("small",null,"(*OPD)")),React.createElement("span",null))),React.createElement("div",{className:"col-md-6"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasReqOfPhysician",checked:1==e.hasReqOfPhysician,onChange:this.setFormCheckProp}),"REQUEST OF PHYSICIAN",React.createElement("i",null,React.createElement("small",null,"(*DOH-MAIP) (*OPD)")),React.createElement("span",null)),React.createElement("br",null),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasReseta",checked:1==e.hasReseta,onChange:this.setFormCheckProp}),"RESETA ",React.createElement("i",null,React.createElement("small",null,"(*DSWD OPD)")),React.createElement("span",null)),React.createElement("br",null),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasSocialCastReport",checked:1==e.hasSocialCastReport,onChange:this.setFormCheckProp}),"SOCIAL CAST STUDY REPORT ",React.createElement("i",null,React.createElement("small",null,"(*DSWD MEDICAL)")),React.createElement("span",null)),React.createElement("br",null),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasPoliceReport",checked:1==e.hasPoliceReport,onChange:this.setFormCheckProp}),"POLICE REPORT ",React.createElement("i",null,React.createElement("small",null,"(*DSWD, in case of accident)")),React.createElement("span",null)),React.createElement("br",null),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasDeathCert",checked:1==e.hasDeathCert,onChange:this.setFormCheckProp}),"REGISTERED DEATH CERTIFICATE ",React.createElement("i",null,React.createElement("small",null,"(*DSWD, patient expires)")),React.createElement("span",null)))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement(FormGroup,{controlId:"formRemarks",validationState:this.getValidationState("remarks")},React.createElement(ControlLabel,null," Remarks : "),React.createElement(FormControl,{componentClass:"textarea",rows:"6",bsClass:"form-control input-sm",name:"remarks",value:this.state.form.data.remarks,onChange:this.setFormProp}),React.createElement(HelpBlock,null,this.getError("remarks"))))))),React.createElement("div",{className:"clearfix"}),React.createElement("div",{className:"text-right"},React.createElement("button",{type:"button",className:"btn-lg btn-default",style:{marginRight:"5px"},onClick:this.props.onHide},"Close"),React.createElement("button",{type:"button",className:"btn-lg btn-primary",onClick:this.submit},"Submit")))))},componentDidMount:function(){this.loadData(this.props.trnId),this.initSelect2()},loadData:function(e){var t=this;t.requestVoter=$.ajax({url:Routing.generate("ajax_get_financial_assistance_full",{trnId:e}),type:"GET"}).done(function(e){var a=t.state.form;console.log("data has been reiceved"),console.log(e),a.data.trnNo=e.trn_no,a.data.municipalityNo=e.municipality_no,a.data.municipalityName=e.municipality_name,a.data.barangayNo=e.barangay_no,a.data.barangayName=e.barangay_name,a.data.applicantName=e.applicant_name,a.data.applicantProVoterId=e.applicant_pro_voter_id,a.data.beneficiaryName=e.beneficiary_name,a.data.jpmIdNo=e.jpm_id_no,a.data.contactNo=e.contact_no,a.data.typeOfAsst=e.type_of_asst,a.data.trnDate=e.trn_date,a.data.endorsedBy=e.endorsed_by,a.data.projectedAmt=e.projected_amt,a.data.grantedAmt=e.granted_amt,a.data.receivedBy=e.received_by,a.data.releaseDate=e.release_date,a.data.releasingOffice=e.releasing_office,a.data.personnel=e.personnel,a.data.remarks=e.remarks,a.data.status=e.status,a.data.hospitalName=e.hospital_name,a.data.reqType=e.req_type,a.data.hasReqLetter=e.has_req_letter,a.data.hasBrgyClearance=e.has_brgy_clearance,a.data.hasPatientId=e.has_patient_id,a.data.hasMedCert=e.has_med_cert,a.data.hasMedAbst=e.has_med_abst,a.data.hasPromisoryNote=e.has_promisory_note,a.data.hasBillStatement=e.has_bill_statement,a.data.hasPriceQuot=e.has_price_quot,a.data.hasReqOfPhysician=e.has_req_of_physician,a.data.hasReseta=e.has_reseta,a.data.hasSocialCastReport=e.has_social_cast_report,a.data.hasPoliceReport=e.has_police_report,a.data.hasDeathCert=e.has_death_cert,a.data.isDswdMedical=e.is_dswd_medical,a.data.isDswdOpd=e.is_dswd_opd,a.data.isDohMaipMedical=e.is_doh_maip_medical,a.data.isDohMaipOpd=e.is_doh_maip_opd,t.setState({form:a},t.reinitSelect2)})},initSelect2:function(){var e=this;$("#fa-form #municipality_select2").select2({casesentitive:!1,placeholder:"Select City/Municipality",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_municipality"),data:function(e){return{searchText:e.term,provinceCode:53}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.municipality_no,text:e.name}})}}}}),$("#fa-form #barangay_select2").select2({casesentitive:!1,placeholder:"Select Barangay",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_barangay"),data:function(e){return{searchText:e.term,municipalityNo:$("#fa-form #municipality_select2").val(),provinceCode:53}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.brgy_no,text:e.name}})}}}}),$("#fa-form #beneficiary_select2").select2({casesentitive:!1,placeholder:"Select Beneficiary Name",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_beneficiary"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.beneficiary_name,text:e.beneficiary_name}})}}}}),$("#fa-form #type_of_assistance_select2").select2({casesentitive:!1,placeholder:"Select Type Of Assistance",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_type_of_assistance"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.type_of_asst,text:e.type_of_asst}})}}}}),$("#fa-form #endorser_select2").select2({casesentitive:!1,placeholder:"Select Endorser",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_endorser"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.endorsed_by,text:e.endorsed_by}})}}}}),$("#fa-form #receiver_select2").select2({casesentitive:!1,placeholder:"Select Receiver",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_receiver"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.received_by,text:e.received_by}})}}}}),$("#fa-form #personnel_select2").select2({casesentitive:!1,placeholder:"Select Releasing Personnel",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_personnel"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.personnel,text:e.personnel}})}}}}),$("#fa-form #office_select2").select2({casesentitive:!1,placeholder:"Select Releasing Office",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_office"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.releasing_office,text:e.releasing_office}})}}}}),$("#fa-form #voter-select2").select2({casesentitive:!1,placeholder:"Enter Name...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",dropdownCssClass:"custom-option",ajax:{url:Routing.generate("ajax_select2_project_voters"),data:function(e){return{searchText:e.term,electId:4,proId:3,provinceCode:53,municipalityNo:$("#fa-form #municipality_select2").val()}},processResults:function(e,t){return{results:e.map(function(e){var t=1==parseInt(e.has_photo)?"YES":"NO",a=e.voter_name+" ( "+e.municipality_name+", "+e.barangay_name+" ) - PHOTO : "+t;return{id:e.pro_voter_id,text:a}})}}}}),$("#fa-form #hospital_select2").select2({casesentitive:!1,placeholder:"Select Hospital",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_hospital"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.hospital_name,text:e.hospital_name}})}}}}),$("#fa-form #municipality_select2").on("change",function(){e.setFormPropValue("municipalityNo",$(this).val())}),$("#fa-form #barangay_select2").on("change",function(){e.setFormPropValue("barangayNo",$(this).val())}),$("#fa-form #beneficiary_select2").on("change",function(){e.setFormPropValue("beneficiaryName",$(this).val())}),$("#fa-form #type_of_assistance_select2").on("change",function(){e.setFormPropValue("typeOfAsst",$(this).val())}),$("#fa-form #endorser_select2").on("change",function(){e.setFormPropValue("endorsedBy",$(this).val())}),$("#fa-form #receiver_select2").on("change",function(){e.setFormPropValue("receivedBy",$(this).val())}),$("#fa-form #personnel_select2").on("change",function(){e.setFormPropValue("personnel",$(this).val())}),$("#fa-form #office_select2").on("change",function(){e.setFormPropValue("releasingOffice",$(this).val())}),$("#fa-form #hospital_select2").on("change",function(){e.setFormPropValue("hospitalName",$(this).val())}),$("#fa-form #voter-select2").on("change",function(){e.loadVoter(3,$(this).val())})},loadVoter:function(e,t){var a=this;a.requestVoter=$.ajax({url:Routing.generate("ajax_get_project_voter",{proId:e,proVoterId:t}),type:"GET"}).done(function(e){var t=a.state.form;t.data.applicantName=e.voterName,t.data.jpmIdNo=e.generatedIdNo,t.data.applicantProVoterId=e.proVoterId,console.log("voter"),console.log(t.data),a.setState({form:t})});var n=a.state.form;a.setState({form:n})},reinitSelect2:function(){var e=this.state.form.data;$("#fa-form #municipality_select2").empty().append($("<option/>").val(e.municipalityNo).text(e.municipalityName)).trigger("change"),$("#fa-form #barangay_select2").empty().append($("<option/>").val(e.barangayNo).text(e.barangayName)).trigger("change"),$("#fa-form #hospital_select2").empty().append($("<option/>").val(e.hospitalName).text(e.hospitalName)).trigger("change"),$("#fa-form #voter-select2").empty().append($("<option/>").val(e.applicantProVoterId).text(e.applicantName)).trigger("change"),$("#fa-form #beneficiary_select2").empty().append($("<option/>").val(e.beneficiaryName).text(e.beneficiaryName)).trigger("change"),$("#fa-form #type_of_assistance_select2").empty().append($("<option/>").val(e.typeOfAsst).text(e.typeOfAsst)).trigger("change"),$("#fa-form #endorser_select2").empty().append($("<option/>").val(e.endorsedBy).text(e.endorsedBy)).trigger("change"),$("#fa-form #receiver_select2").empty().append($("<option/>").val(e.receivedBy).text(e.receivedBy)).trigger("change"),$("#fa-form #personnel_select2").empty().append($("<option/>").val(e.personnel).text(e.personnel)).trigger("change"),$("#fa-form #office_select2").empty().append($("<option/>").val(e.releasingOffice).text(e.releasingOffice)).trigger("change")},setFormPropValue:function(e,t){var a=this.state.form;a.data[e]=t,this.setState({form:a})},setFormProp:function(e){var t=this.state.form;t.data[e.target.name]=e.target.value,this.setState({form:t})},setFormCheckProp:function(e){var t=this.state.form;t.data[e.target.name]=e.target.checked?1:0,this.setState({form:t})},setErrors:function(e){var t=this.state.form;t.errors=e,this.setState({form:t})},getError:function(e){var t=this.state.form.errors;for(var a in t)if(a==e)return t[e];return null},getValidationState:function(e){return null!=this.getError(e)?"error":""},isEmpty:function(e){return null==e||""==e},reset:function(){var e=this.state.form;e.errors=[],this.setState({form:e})},submit:function(e){e.preventDefault();var t=this,a=t.state.form.data;a.trnId=t.props.trnId,t.requestPost=$.ajax({url:Routing.generate("ajax_patch_financial_assistance_full",{trnId:t.props.trnId}),data:a,type:"PATCH"}).done(function(e){t.reset(),t.props.reload(),t.props.onHide()}).fail(function(e){t.setErrors(e.responseJSON)})}});window.FinancialAssistanceEditModal=FinancialAssistanceEditModal;var Modal=ReactBootstrap.Modal,FormGroup=ReactBootstrap.FormGroup,HelpBlock=ReactBootstrap.HelpBlock,ControlLabel=ReactBootstrap.ControlLabel,FormControl=ReactBootstrap.FormControl,FinancialAssistanceCreateModal=React.createClass({displayName:"FinancialAssistanceCreateModal",getInitialState:function(){return{showNewProfileModal:!1,form:{data:{trnNo:"",municipalityNo:"",barangayNo:"",applicantName:"",applicantProVoterId:"",beneficiaryName:"",beneficiaryProVoterId:"",jpmIdNo:"",contactNo:"",typeOfAsst:"",trnDate:"",endorsedBy:"",projectedAmt:0,grantedAmt:0,receivedBy:"",releaseDate:"",releasingOffice:"",hospitalName:"",personnel:"",remarks:"",status:"",reqType:0,hasLetterReq:0,hasBrgyClearance:0,hasPatientId:0,hasMedCert:0,hasMedAbst:0,hasPromisoryNote:0,hasBillStatement:0,hasPriceQuot:0,hasReqOfPhysician:0,hasReseta:0,hasSocialCastReport:0,hasPoliceReport:0,hasDeathCert:0,isDswdMedical:0,isDswdOpd:0,isDohMaipMedical:0,isDohMaipOpd:0},errors:[]}}},render:function(){var e=this,t=this.state.form.data;return React.createElement(Modal,{style:{marginTop:"10px"},bsSize:"lg",keyboard:!1,enforceFocus:!1,backdrop:"static",show:this.props.show,onHide:this.props.onHide},React.createElement(Modal.Header,{className:"modal-header bg-blue-dark font-white",closeButton:!0},React.createElement(Modal.Title,null,"Financial Assistance Form")),React.createElement(Modal.Body,{bsClass:"modal-body overflow-auto"},this.state.showNewProfileModal&&React.createElement(FinancialAssistanceCreateNewProfileModal,{proId:3,electId:4,provinceCode:53,show:this.state.showNewProfileModal,onHide:this.closeNewProfileModal}),React.createElement("form",{id:"fa-form"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("div",null,React.createElement("h3",null,React.createElement("strong",null,"Request Information : "))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement(FormGroup,{controlId:"formMunicipalityNo",validationState:this.getValidationState("municipalityNo")},React.createElement(ControlLabel,null," Municipality : "),React.createElement("select",{id:"municipality_select2",className:"form-control form-filter input-sm",name:"municipalityNo"}),React.createElement(HelpBlock,null,this.getError("municipalityNo")))),React.createElement("div",{className:"col-md-4"},React.createElement(FormGroup,{controlId:"formBarangayNo",validationState:this.getValidationState("barangayNo")},React.createElement(ControlLabel,null," Barangay : "),React.createElement("select",{id:"barangay_select2",className:"form-control form-filter input-sm",name:"barangayNo"}),React.createElement(HelpBlock,null,this.getError("barangayNo"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(FormGroup,{controlId:"formVoterName",validationState:this.getValidationState("voterName")},React.createElement(ControlLabel,null," Applicant Name : "),React.createElement("select",{id:"voter-select2",className:"form-control input-sm"}),React.createElement(HelpBlock,null,this.getError("voterName")))),React.createElement("div",{className:"col-md-2"},React.createElement("button",{style:{marginTop:"25px"},onClick:e.openNewProfileModal,type:"button",className:"btn btn-sm btn-primary"},"New Profile")),React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formJpmIdNo",validationState:this.getValidationState("jpmIdNo")},React.createElement(ControlLabel,null," JPM ID No. : "),React.createElement(FormControl,{bsClass:"form-control input-sm",name:"jpmIdNo",value:this.state.form.data.jpmIdNo,onChange:this.setFormProp}),React.createElement(HelpBlock,null,this.getError("jpmIdNo"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(FormGroup,{controlId:"formBeneficiaryName",validationState:this.getValidationState("beneficiaryName")},React.createElement(ControlLabel,null," Beneficiary Name : "),React.createElement("select",{id:"beneficiary-select2",className:"form-control input-sm"}),React.createElement(HelpBlock,null,this.getError("beneficiaryName")))),React.createElement("div",{className:"col-md-2"},React.createElement("button",{style:{marginTop:"25px"},onClick:e.openNewProfileModal,type:"button",className:"btn btn-sm btn-primary"},"New Profile"))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formContactNo",validationState:this.getValidationState("contactNo")},React.createElement(ControlLabel,null," Contact No : "),React.createElement(FormControl,{bsClass:"form-control input-sm",name:"contactNo",value:this.state.form.data.contactNo,onChange:this.setFormProp}),React.createElement(HelpBlock,null,this.getError("contactNo")))),React.createElement("div",{className:"col-md-7"
},React.createElement(FormGroup,{controlId:"formHospitalName",validationState:this.getValidationState("hospitalName")},React.createElement(ControlLabel,null," Hospital : "),React.createElement("select",{id:"hospital_select2",className:"form-control form-filter input-sm",name:"hospitalName"}),React.createElement(HelpBlock,null,this.getError("hospitalName"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formEventName",validationState:this.getValidationState("typeOfAsst")},React.createElement(ControlLabel,null," Type of Assistance : "),React.createElement("select",{id:"type_of_assistance_select2",className:"form-control form-filter input-sm",name:"municipalityNo"}),React.createElement(HelpBlock,null,this.getError("typeOfAsst")))),React.createElement("div",{className:"col-md-3"},React.createElement(FormGroup,{controlId:"formEventName",validationState:this.getValidationState("trnDate")},React.createElement(ControlLabel,null," Date : "),React.createElement("input",{type:"date",value:this.state.form.data.trnDate,className:"input-sm form-control",onChange:this.setFormProp,name:"trnDate"}),React.createElement(HelpBlock,null,this.getError("trnDate")))),React.createElement("div",{className:"col-md-4"},React.createElement(FormGroup,{controlId:"formEventName",validationState:this.getValidationState("endorsedBy")},React.createElement(ControlLabel,null," Endorsed By : "),React.createElement("select",{id:"endorser_select2",className:"form-control form-filter input-sm",name:"municipalityNo"}),React.createElement(HelpBlock,null,this.getError("endorsedBy"))))),React.createElement("div",null,React.createElement("h3",null,React.createElement("strong",null,"Medical Assistance Requirements ",React.createElement("i",null,React.createElement("small",null,"(checklist)"))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasReqLetter",checked:1==t.hasReqLetter,onChange:this.setFormCheckProp}),"Request Letter",React.createElement("span",null))),React.createElement("div",{className:"col-md-6"},React.createElement("div",{className:"col-md-3"},"DSWD"),React.createElement("div",{className:"col-md-3"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"isDswdMedical",checked:1==t.isDswdMedical,onChange:this.setFormCheckProp}),"MEDICAL",React.createElement("span",null))),React.createElement("div",{className:"col-md-3"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"isDswdOpd",checked:1==t.isDswdOpd,onChange:this.setFormCheckProp}),"OPD",React.createElement("span",null)))),React.createElement("div",{className:"col-md-6"},React.createElement("div",null,"ADDRESS TO : ",React.createElement("strong",null,"CONG. JOSE CH. ALVAREZ"),React.createElement("br",null),React.createElement("small",null,"Congressman, 2nd District of Palawan"))),React.createElement("div",{className:"col-md-6"},React.createElement("div",{className:"col-md-3"},"DOH-MAIP"),React.createElement("div",{className:"col-md-3"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"isDohMaipMedical",checked:1==t.isDohMaipMedical,onChange:this.setFormCheckProp}),"MEDICAL",React.createElement("span",null))),React.createElement("div",{className:"col-md-3"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"isDohMaipOpd",checked:1==t.isDohMaipOpd,onChange:this.setFormCheckProp}),"OPD",React.createElement("span",null))))),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasBrgyClearance",checked:1==t.hasBrgyClearance,onChange:this.setFormCheckProp}),"Barangay Certificate ",React.createElement("i",null,React.createElement("small",null,"(*MED/OPD)")),React.createElement("span",null)),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasPatientId",checked:1==t.hasPatientId,onChange:this.setFormCheckProp}),"VALID ID - PATIENT ",React.createElement("i",null,React.createElement("small",null,"(*MED/OPD) (W/PHOTOCOPY)")),React.createElement("span",null)),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasMedCert",checked:1==t.hasMedCert,onChange:this.setFormCheckProp}),"MEDICAL CERTIFICATE ",React.createElement("i",null,React.createElement("small",null,"(*MED/OPD)")),React.createElement("span",null)),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasMedAbst",checked:1==t.hasMedAbst,onChange:this.setFormCheckProp}),"MEDICAL ABSTRACT ",React.createElement("i",null,React.createElement("small",null,"(*MED)")),React.createElement("span",null)),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasPromisoryNote",checked:1==t.hasPromisoryNote,onChange:this.setFormCheckProp}),"PROMISORY NOTE ",React.createElement("i",null,React.createElement("small",null,"(*MED)")),React.createElement("span",null)),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasBillStatement",checked:1==t.hasBillStatement,onChange:this.setFormCheckProp}),"UPDATED BILLING STATEMENT ",React.createElement("i",null,React.createElement("small",null,"(*MED)")),React.createElement("span",null)),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasPriceQuot",checked:1==t.hasPriceQuot,onChange:this.setFormCheckProp}),"PRICE QUOTATION",React.createElement("i",null,React.createElement("small",null,"(*OPD)")),React.createElement("span",null))),React.createElement("div",{className:"col-md-6"},React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasReqOfPhysician",checked:1==t.hasReqOfPhysician,onChange:this.setFormCheckProp}),"REQUEST OF PHYSICIAN",React.createElement("i",null,React.createElement("small",null,"(*DOH-MAIP) (*OPD)")),React.createElement("span",null)),React.createElement("br",null),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasReseta",checked:1==t.hasReseta,onChange:this.setFormCheckProp}),"RESETA ",React.createElement("i",null,React.createElement("small",null,"(*DSWD OPD)")),React.createElement("span",null)),React.createElement("br",null),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasSocialCastReport",checked:1==t.hasSocialCastReport,onChange:this.setFormCheckProp}),"SOCIAL CAST STUDY REPORT ",React.createElement("i",null,React.createElement("small",null,"(*DSWD MEDICAL)")),React.createElement("span",null)),React.createElement("br",null),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasPoliceReport",checked:1==t.hasPoliceReport,onChange:this.setFormCheckProp}),"POLICE REPORT ",React.createElement("i",null,React.createElement("small",null,"(*DSWD, in case of accident)")),React.createElement("span",null)),React.createElement("br",null),React.createElement("label",{className:"mt-checkbox"},React.createElement("input",{type:"checkbox",name:"hasDeathCert",checked:1==t.hasDeathCert,onChange:this.setFormCheckProp}),"REGISTERED DEATH CERTIFICATE ",React.createElement("i",null,React.createElement("small",null,"(*DSWD, patient expires)")),React.createElement("span",null)))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement(FormGroup,{controlId:"formRemarks",validationState:this.getValidationState("remarks")},React.createElement(ControlLabel,null," Remarks / Brief Explanation : "),React.createElement(FormControl,{componentClass:"textarea",rows:"6",bsClass:"form-control input-sm",name:"remarks",value:this.state.form.data.remarks,onChange:this.setFormProp}),React.createElement(HelpBlock,null,this.getError("remarks"))))))),React.createElement("div",{className:"clearfix"}),React.createElement("div",{className:"text-right"},React.createElement("button",{type:"button",className:"btn-lg btn-default",style:{marginRight:"5px"},onClick:this.props.onHide},"Close"),React.createElement("button",{type:"button",className:"btn-lg btn-primary",onClick:this.submit},"Submit")))))},componentDidMount:function(){this.initSelect2()},initSelect2:function(){var e=this;$("#fa-form #municipality_select2").select2({casesentitive:!1,placeholder:"Select City/Municipality",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_municipality"),data:function(e){return{searchText:e.term,provinceCode:53}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.municipality_no,text:e.name}})}}}}),$("#fa-form #barangay_select2").select2({casesentitive:!1,placeholder:"Select Barangay",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_barangay"),data:function(e){return{searchText:e.term,municipalityNo:$("#fa-form #municipality_select2").val(),provinceCode:53}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.brgy_no,text:e.name}})}}}}),$("#fa-form #applicant_select2").select2({casesentitive:!1,placeholder:"Select Applicant Name",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_applicant"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.applicant_name,text:e.applicant_name}})}}}}),$("#fa-form #beneficiary-select2").select2({casesentitive:!1,placeholder:"Enter Name...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",dropdownCssClass:"custom-option",ajax:{url:Routing.generate("ajax_select2_project_voters"),data:function(e){return{searchText:e.term,electId:4,proId:3,provinceCode:53,municipalityNo:$("#fa-form #municipality_select2").val()}},processResults:function(e,t){return{results:e.map(function(e){var t=1==parseInt(e.has_photo)?"YES":"NO",a=e.voter_name+" ( "+e.municipality_name+", "+e.barangay_name+" ) - PHOTO : "+t;return{id:e.pro_voter_id,text:a}})}}}}),$("#fa-form #type_of_assistance_select2").select2({casesentitive:!1,placeholder:"Select Type Of Assistance",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_type_of_assistance"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.type_of_asst,text:e.type_of_asst}})}}}}),$("#fa-form #endorser_select2").select2({casesentitive:!1,placeholder:"Select Endorser",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_endorser"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.endorsed_by,text:e.endorsed_by}})}}}}),$("#fa-form #receiver_select2").select2({casesentitive:!1,placeholder:"Select Receiver",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_receiver"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.received_by,text:e.received_by}})}}}}),$("#fa-form #personnel_select2").select2({casesentitive:!1,placeholder:"Select Releasing Personnel",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_personnel"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.personnel,text:e.personnel}})}}}}),$("#fa-form #office_select2").select2({casesentitive:!1,placeholder:"Select Releasing Office",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_office"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.releasing_office,text:e.releasing_office}})}}}}),$("#fa-form #voter-select2").select2({casesentitive:!1,placeholder:"Enter Name...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",dropdownCssClass:"custom-option",ajax:{url:Routing.generate("ajax_select2_project_voters"),data:function(e){return{searchText:e.term,electId:4,proId:3,provinceCode:53,municipalityNo:$("#fa-form #municipality_select2").val()}},processResults:function(e,t){return{results:e.map(function(e){var t=1==parseInt(e.has_photo)?"YES":"NO",a=e.voter_name+" ( "+e.municipality_name+", "+e.barangay_name+" ) - PHOTO : "+t;return{id:e.pro_voter_id,text:a}})}}}}),$("#fa-form #hospital_select2").select2({casesentitive:!1,placeholder:"Select Hospital",allowClear:!0,width:"100%",containerCssClass:":all:",tags:!0,createTag:function(e){return{id:e.term,text:e.term,newOption:!0}},ajax:{url:Routing.generate("ajax_select2_fa_hospital"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.hospital_name,text:e.hospital_name}})}}}}),$("#fa-form #municipality_select2").on("change",function(){e.setFormPropValue("municipalityNo",$(this).val())}),$("#fa-form #barangay_select2").on("change",function(){e.setFormPropValue("barangayNo",$(this).val())}),$("#fa-form #applicant_select2").on("change",function(){e.setFormPropValue("applicantName",$(this).val())}),$("#fa-form #type_of_assistance_select2").on("change",function(){e.setFormPropValue("typeOfAsst",$(this).val())}),$("#fa-form #endorser_select2").on("change",function(){e.setFormPropValue("endorsedBy",$(this).val())}),$("#fa-form #receiver_select2").on("change",function(){e.setFormPropValue("receivedBy",$(this).val())}),$("#fa-form #personnel_select2").on("change",function(){e.setFormPropValue("personnel",$(this).val())}),$("#fa-form #office_select2").on("change",function(){e.setFormPropValue("releasingOffice",$(this).val())}),$("#fa-form #hospital_select2").on("change",function(){e.setFormPropValue("hospitalName",$(this).val())}),$("#fa-form #voter-select2").on("change",function(){e.loadVoter(3,$(this).val())}),$("#fa-form #beneficiary-select2").on("change",function(){e.loadBeneficiary(3,$(this).val())})},loadVoter:function(e,t){var a=this;a.requestVoter=$.ajax({url:Routing.generate("ajax_get_project_voter",{proId:e,proVoterId:t}),type:"GET"}).done(function(e){var t=a.state.form;t.data.applicantName=e.voterName,t.data.jpmIdNo=e.generatedIdNo,t.data.applicantProVoterId=e.proVoterId,a.setState({form:t})});var n=a.state.form;n.data.applicantName="",n.data.jpmIdNo="",n.data.applicantProVoterId="",a.setState({form:n})},loadBeneficiary:function(e,t){var a=this;a.requestVoter=$.ajax({url:Routing.generate("ajax_get_project_voter",{proId:e,proVoterId:t}),type:"GET"}).done(function(e){var t=a.state.form;t.data.beneficiaryName=e.voterName,t.data.beneficiaryProVoterId=e.proVoterId,a.setState({form:t})});var n=a.state.form;n.data.beneficiaryName="",n.data.beneficiaryProVoterId="",a.setState({form:n})},setFormPropValue:function(e,t){var a=this.state.form;a.data[e]=t,this.setState({form:a})},setFormProp:function(e){var t=this.state.form;t.data[e.target.name]=e.target.value,this.setState({form:t})},setFormCheckProp:function(e){var t=this.state.form;t.data[e.target.name]=e.target.checked?1:0,this.setState({form:t})},setErrors:function(e){var t=this.state.form;t.errors=e,this.setState({form:t})},getError:function(e){var t=this.state.form.errors;for(var a in t)if(a==e)return t[e];return null},getValidationState:function(e){return null!=this.getError(e)?"error":""},isEmpty:function(e){return null==e||""==e},reset:function(){var e=this.state.form;e.errors=[],this.setState({form:e})},openNewProfileModal:function(){this.setState({showNewProfileModal:!0})},closeNewProfileModal:function(){this.setState({showNewProfileModal:!1})},submit:function(e){e.preventDefault();var t=this,a=t.state.form.data;a.proId=t.props.proId,t.requestPost=$.ajax({url:Routing.generate("ajax_post_fa_header"),data:a,type:"POST"}).done(function(e){t.reset(),t.props.reload(),t.props.onHide()}).fail(function(e){t.setErrors(e.responseJSON)})}});window.FinancialAssistanceCreateModal=FinancialAssistanceCreateModal;var Modal=ReactBootstrap.Modal,FormGroup=ReactBootstrap.FormGroup,HelpBlock=ReactBootstrap.HelpBlock,ControlLabel=ReactBootstrap.ControlLabel,FormControl=ReactBootstrap.FormControl,FinancialAssistanceReleasedListModal=React.createClass({displayName:"FinancialAssistanceReleasedListModal",getInitialState:function(){return{member:null,showAddMemberModal:!1,header:{closingDate:""}}},render:function(){var e=this;e.state.header;return React.createElement(Modal,{style:{marginTop:"10px"},keyboard:!1,dialogClassName:"modal-custom-95",enforceFocus:!1,backdrop:"static",show:this.props.show,onHide:this.props.onHide},React.createElement(Modal.Header,{className:"modal-header bg-blue-dark font-white",closeButton:!0},React.createElement(Modal.Title,null,"Closing Date List of Transactions  : ",this.state.header.closingDate,"  ")),React.createElement(Modal.Body,{bsClass:"modal-body overflow-auto"},React.createElement(FinancialDailySummaryDetailDatatable,{id:this.props.id})))},componentDidMount:function(){},setFormProp:function(e){this.setState({proIdCode:e.target.value},this.search)}});window.FinancialAssistanceReleasedListModal=FinancialAssistanceReleasedListModal;var FinancialDailySummaryDetailDatatable=React.createClass({displayName:"FinancialDailySummaryDetailDatatable",getInitialState:function(){return{showEditModal:!1,showReleaseModal:!1,target:null,typingTimer:null,doneTypingInterval:1500,user:null,filters:{electId:null,provinceCode:null,proId:null}}},componentDidMount:function(){this.loadUser(window.userId),this.initDatatable()},loadUser:function(e){var t=this;t.requestUser=$.ajax({url:Routing.generate("ajax_get_user",{id:e}),type:"GET"}).done(function(e){t.setState({user:e},t.reinitSelect2)})},initSelect2:function(){var e=this;$("#fa_component #election_select2").select2({casesentitive:!1,placeholder:"Select Election...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_elections"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.elect_id,text:e.elect_name}})}}}}),$("#fa_component #project_select2").select2({casesentitive:!1,placeholder:"Select Project...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_projects"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.pro_id,text:e.pro_name}})}}}}),$("#fa_component #province_select2").select2({casesentitive:!1,placeholder:"Enter Province...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_province_strict"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.province_code,text:e.name}})}}}}),$("#fa_component #election_select2").on("change",function(){var t=e.state.filters;t.electId=$(this).val(),e.setState({filters:t},e.reload)}),$("#fa_component #project_select2").on("change",function(){var t=e.state.filters;t.proId=$(this).val(),e.setState({filters:t},e.reload)}),$("#fa_component #province_select2").on("change",function(){var t=e.state.filters;t.provinceCode=$(this).val(),e.setState({filters:t},e.reload)})},reinitSelect2:function(){var e=this;if(!e.isEmpty(e.state.user.project)){var t=e.state.user.project.provinceCode;e.requestProvince=$.ajax({url:Routing.generate("ajax_get_province",{provinceCode:t}),type:"GET"}).done(function(e){$("#fa_component #province_select2").empty().append($("<option/>").val(e.province_code).text(e.name)).trigger("change")}),e.requestProject=$.ajax({url:Routing.generate("ajax_get_project",{proId:e.state.user.project.proId}),type:"GET"}).done(function(e){$("#fa_component #project_select2").empty().append($("<option/>").val(e.proId).text(e.proName)).trigger("change")})}e.requestActiveElection=$.ajax({url:Routing.generate("ajax_get_active_election"),type:"GET"}).done(function(e){$("#fa_component #election_select2").empty().append($("<option/>").val(e.electId).text(e.electName)).trigger("change")}),e.state.user.isAdmin||($("#fa_component #election_select2").attr("disabled","disabled"),$("#fa_component #province_select2").attr("disabled","disabled"),$("#fa_component #project_select2").attr("disabled","disabled"))},initDatatable:function(){var e=this,t=(new Datatable,$("#financial_assistance_summary_detail_datatable")),a=new Datatable,n=Routing.generate("ajax_get_datatable_financial_assistance_daily_summary_detail",{},!0);a.init({src:t,loadingMessage:"Loading...",dataTable:{bState:!0,autoWidth:!0,deferRender:!0,ajax:{url:n,type:"GET",data:function(t){t.id=e.props.id,console.log("get filter data"),console.log($('#financial_assistance_summary_detail_datatable input[name="trn_no"]').val()),t.trnNo=$('#financial_assistance_summary_detail_datatable input[name="trn_no"]').val(),t.trnDate=$('#financial_assistance_summary_detail_datatable input[name="trn_date"]').val(),t.applicantName=$('#financial_assistance_summary_detail_datatable input[name="applicant_name"]').val(),t.contactNo=$('#financial_assistance_summary_detail_datatable input[name="contact_no"]').val(),t.beneficiaryName=$('#financial_assistance_summary_detail_datatable input[name="beneficiary_name"]').val(),t.endorsedBy=$('#financial_assistance_summary_detail_datatable input[name="endorsed_by"]').val(),t.municipalityName=$('#financial_assistance_summary_detail_datatable input[name="municipality_name"]').val(),t.barangayName=$('#financial_assistance_summary_detail_datatable input[name="barangay_name"]').val()}},columnDefs:[{orderable:!1,targets:[0,9,10]},{className:"align-center",targets:[0,3]}],order:[[0,"desc"]],columns:[{data:null,className:"text-center",width:30,render:function(e,t,a,n){return n.settings._iDisplayStart+n.row+1}},{data:"trn_no",width:50,className:"text-center"},{data:"trn_date",width:50,className:"text-center"},{data:"applicant_name",className:"text-center",width:100},{data:"contact_no",className:"text-center",width:50},{data:"beneficiary_name",className:"text-center",width:100},{data:"endorsed_by",className:"text-center",width:100},{data:"municipality_name",className:"text-center",width:50},{data:"barangay_name",className:"text-center",width:50},{data:"granted_amt",className:"text-center",width:50,render:function(t){return e.numberWithCommas(t)}},{width:50,className:"text-center",render:function(e,t,a){return"<a href='javascript:void(0);' class='btn btn-xs font-white bg-red-sunglo delete-button' data-toggle='tooltip' data-title='Delete'><i class='fa fa-trash' ></i></a>"}}]}}),t.on("click",".edit-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showEditModal:!0,target:t.trn_id})}),t.on("click",".release-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showReleaseModal:!0,target:t.trn_id})}),t.on("click",".delete-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.delete(t.dtl_id)}),e.grid=a},closeEditModal:function(){this.setState({showEditModal:!1,target:null})},closeReleaseModal:function(){this.setState({showReleaseModal:!1,target:null})},openCreateModal:function(){this.setState({showCreateModal:!0})},openClosingModal:function(){this.setState({showClosingModal:!0})},delete:function(e){var t=this;confirm("Are you sure you want to delete this item?")&&(t.requestDelete=$.ajax({url:Routing.generate("ajax_delete_financial_assistance_daily_summary_detail",{id:e}),type:"DELETE"}).done(function(e){t.reload()}))},handleFilterChange:function(){var e=this;clearTimeout(this.state.typingTimer),this.state.typingTimer=setTimeout(function(){e.reload()},this.state.doneTypingInterval)},reload:function(){null!=this.grid&&this.grid.getDataTable().ajax.reload()},isEmpty:function(e){return null==e||""==e||"undefined"==e||e<=0},numberWithCommas:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},render:function(){return console.log("active table"),console.log(this.state.activeTable),React.createElement("div",null,this.state.showReleaseModal&&React.createElement(FinancialAssistanceReleaseModal,{proId:this.state.filters.proId,trnId:this.state.target,show:this.state.showReleaseModal,notify:this.props.notify,reload:this.reload,onHide:this.closeReleaseModal}),this.state.showEditModal&&React.createElement(FinancialAssistanceEditModal,{proId:this.state.filters.proId,trnId:this.state.target,show:this.state.showEditModal,notify:this.props.notify,reload:this.reload,onHide:this.closeEditModal}),React.createElement("div",{className:"row",id:"fa_component"}),React.createElement("div",{className:"table-container",style:{marginTop:"20px"}},React.createElement("table",{id:"financial_assistance_summary_detail_datatable",className:"table table-striped table-bordered",width:"100%"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"No"),React.createElement("th",null,"Trn No"),React.createElement("th",null,"Trn Date"),React.createElement("th",null,"Applicant"),React.createElement("th",null,"Contact No"),React.createElement("th",null,"Beneficiary"),React.createElement("th",null,"Endorser"),React.createElement("th",null,"Municipality"),React.createElement("th",null,"Barangay"),React.createElement("th",null,"Granted Amt"),React.createElement("th",{width:"50px"})),React.createElement("tr",null,React.createElement("td",null),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"trn_no",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"trn_date",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"applicant_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"contact_no",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"beneficiary_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"endorsed_by",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"municipality_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"barangay_name",onChange:this.handleFilterChange})),React.createElement("td",null),React.createElement("td",null))),React.createElement("tbody",null))))}});window.FinancialDailySummaryDetailDatatable=FinancialDailySummaryDetailDatatable;var FinancialAssistanceDailySummaryDatatable=React.createClass({displayName:"FinancialAssistanceDailySummaryDatatable",getInitialState:function(){return{target:null,typingTimer:null,doneTypingInterval:1500,showReleasedListModal:!1,user:null,filters:{electId:null,provinceCode:null,proId:null}}},componentDidMount:function(){this.loadUser(window.userId),this.initDatatable()},loadUser:function(e){var t=this;t.requestUser=$.ajax({url:Routing.generate("ajax_get_user",{id:e}),type:"GET"}).done(function(e){t.setState({user:e})})},initDatatable:function(){var e=this,t=(new Datatable,$("#financial_assistance_daily_summary")),a=new Datatable,n=Routing.generate("ajax_get_datatable_financial_assistance_daily_summary",{},!0);a.init({src:t,loadingMessage:"Loading...",dataTable:{bState:!0,autoWidth:!0,deferRender:!0,ajax:{url:n,type:"GET"},columnDefs:[{orderable:!1,targets:[0,2,3,4,5,6,7,8]},{className:"align-center",targets:[0,3]}],order:[[0,"desc"]],columns:[{data:null,className:"text-center",width:30,render:function(e,t,a,n){return n.settings._iDisplayStart+n.row+1}},{data:"closing_date",width:50,className:"text-center"},{data:"total_released",width:50,className:"text-center"},{data:"released_amt",className:"text-center",width:100,render:function(t){return e.numberWithCommas(parseFloat(t).toFixed(2))}},{data:"total_pending",className:"text-center",width:50},{data:"pending_amt",className:"text-center",width:100,render:function(t){return e.numberWithCommas(parseFloat(t).toFixed(2))}},{data:"created_by",className:"text-center",width:100},{data:"created_at",className:"text-center",width:50},{width:30,className:"text-center",render:function(e,t,a){return"<a href='javascript:void(0);' class='btn btn-xs font-white bg-green release-button' data-toggle='tooltip' data-title='Edit'><i class='fa fa-list-ol'></i></a><a href='javascript:void(0);' class='btn btn-xs font-white bg-red-sunglo delete-button' data-toggle='tooltip' data-title='Delete'><i class='fa fa-trash' ></i></a>"}}]}}),t.on("click",".release-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showReleasedListModal:!0,target:t.id})}),t.on("click",".delete-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.delete(t.id)}),e.grid=a},delete:function(e){var t=this;confirm("Are you sure you want to delete this summary?")&&(t.requestDelete=$.ajax({url:Routing.generate("ajax_delete_financial_assistance_daily_summary",{id:e}),type:"DELETE"}).done(function(e){t.reload()}))},handleFilterChange:function(){var e=this;clearTimeout(this.state.typingTimer),this.state.typingTimer=setTimeout(function(){e.reload()},this.state.doneTypingInterval)},reload:function(){null!=this.grid&&this.grid.getDataTable().ajax.reload()},isEmpty:function(e){return null==e||""==e||"undefined"==e||e<=0},closeReleasedListModal:function(){this.setState({showReleasedListModal:!1})},numberWithCommas:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},render:function(){return React.createElement("div",null,this.state.showReleasedListModal&&React.createElement(FinancialAssistanceReleasedListModal,{proId:3,show:this.state.showReleasedListModal,notify:this.props.notify,reload:this.reload,id:this.state.target,onHide:this.closeReleasedListModal}),React.createElement("div",{className:"table-container",style:{marginTop:"20px"}},React.createElement("table",{id:"financial_assistance_daily_summary",className:"table table-striped table-bordered",width:"100%"
},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"No"),React.createElement("th",null,"Closing Date"),React.createElement("th",null,"Total Released"),React.createElement("th",null,"Total Released Amount"),React.createElement("th",null,"Total Pending"),React.createElement("th",null,"Total Pending Amt"),React.createElement("th",null,"Closed By"),React.createElement("th",null,"Closed At"),React.createElement("th",{width:"50px"})),React.createElement("tr",null,React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null))),React.createElement("tbody",null))))}});window.FinancialAssistanceDailySummaryDatatable=FinancialAssistanceDailySummaryDatatable;var FinancialAssistanceDatatable=React.createClass({displayName:"FinancialAssistanceDatatable",getInitialState:function(){return{showEditModal:!1,showReleaseModal:!1,target:null,typingTimer:null,doneTypingInterval:1500,user:null,filters:{electId:null,provinceCode:null,proId:null}}},componentDidMount:function(){this.loadUser(window.userId)},loadUser:function(e){var t=this;t.requestUser=$.ajax({url:Routing.generate("ajax_get_user",{id:e}),type:"GET"}).done(function(e){t.setState({user:e},t.reinitSelect2)})},initSelect2:function(){var e=this;$("#fa_component #election_select2").select2({casesentitive:!1,placeholder:"Select Election...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_elections"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.elect_id,text:e.elect_name}})}}}}),$("#fa_component #project_select2").select2({casesentitive:!1,placeholder:"Select Project...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_projects"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.pro_id,text:e.pro_name}})}}}}),$("#fa_component #province_select2").select2({casesentitive:!1,placeholder:"Enter Province...",allowClear:!0,delay:1500,width:"100%",containerCssClass:":all:",ajax:{url:Routing.generate("ajax_select2_province_strict"),data:function(e){return{searchText:e.term}},processResults:function(e,t){return{results:e.map(function(e){return{id:e.province_code,text:e.name}})}}}}),$("#fa_component #election_select2").on("change",function(){var t=e.state.filters;t.electId=$(this).val(),e.setState({filters:t},e.reload)}),$("#fa_component #project_select2").on("change",function(){var t=e.state.filters;t.proId=$(this).val(),e.setState({filters:t},e.reload)}),$("#fa_component #province_select2").on("change",function(){var t=e.state.filters;t.provinceCode=$(this).val(),e.setState({filters:t},e.reload)})},reinitSelect2:function(){var e=this;if(!e.isEmpty(e.state.user.project)){var t=e.state.user.project.provinceCode;e.requestProvince=$.ajax({url:Routing.generate("ajax_get_province",{provinceCode:t}),type:"GET"}).done(function(e){$("#fa_component #province_select2").empty().append($("<option/>").val(e.province_code).text(e.name)).trigger("change")}),e.requestProject=$.ajax({url:Routing.generate("ajax_get_project",{proId:e.state.user.project.proId}),type:"GET"}).done(function(t){$("#fa_component #project_select2").empty().append($("<option/>").val(t.proId).text(t.proName)).trigger("change"),e.initDatatable()})}e.requestActiveElection=$.ajax({url:Routing.generate("ajax_get_active_election"),type:"GET"}).done(function(e){$("#fa_component #election_select2").empty().append($("<option/>").val(e.electId).text(e.electName)).trigger("change")}),e.state.user.isAdmin||($("#fa_component #election_select2").attr("disabled","disabled"),$("#fa_component #province_select2").attr("disabled","disabled"),$("#fa_component #project_select2").attr("disabled","disabled"))},initDatatable:function(){var e=this,t=(new Datatable,$("#financial_assistance_table")),a=new Datatable,n=Routing.generate("ajax_get_datatable_financial_assistance",{},!0);a.init({src:t,loadingMessage:"Loading...",dataTable:{bState:!0,autoWidth:!0,deferRender:!0,ajax:{url:n,type:"GET",data:function(e){e.trnNo=$('#financial_assistance_table input[name="trn_no"]').val(),e.trnDate=$('#financial_assistance_table input[name="trn_date]').val(),e.applicantName=$('#financial_assistance_table input[name="applicant_name"]').val(),e.beneficiaryName=$('#financial_assistance_table input[name="beneficiary_name"]').val(),e.endorsedBy=$('#financial_assistance_table input[name="endorsed_by"]').val(),e.municipalityName=$('#financial_assistance_table input[name="municipality_name"]').val(),e.barangayName=$('#financial_assistance_table input[name="barangay_name"]').val()}},columnDefs:[{orderable:!1,targets:[0,2,3,4,5,6,7,8,9,10]},{className:"align-center",targets:[0,3]}],order:[[0,"desc"]],columns:[{data:null,className:"text-center",width:30,render:function(e,t,a,n){return n.settings._iDisplayStart+n.row+1}},{data:"trn_no",width:50,className:"text-center"},{data:"trn_date",width:50,className:"text-center"},{data:"applicant_name",className:"text-center",width:100},{data:"contact_no",className:"text-center",width:50},{data:"beneficiary_name",className:"text-center",width:100},{data:"endorsed_by",className:"text-center",width:100},{data:"municipality_name",className:"text-center",width:50},{data:"barangay_name",className:"text-center",width:50},{data:"granted_amt",className:"text-center",width:50},{width:50,render:function(e,t,a){return"<a href='javascript:void(0);' class='btn btn-xs font-white bg-green-dark edit-button' data-toggle='tooltip' data-title='Edit'><i class='fa fa-edit' ></i></a><a href='javascript:void(0);' class='btn btn-xs font-white bg-green release-button' data-toggle='tooltip' data-title='Edit'><i class='fa fa-check-square-o'></i></a><a href='javascript:void(0);' class='btn btn-xs font-white bg-red-sunglo delete-button' data-toggle='tooltip' data-title='Delete'><i class='fa fa-trash' ></i></a>"}}]}}),t.on("click",".edit-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showEditModal:!0,target:t.trn_id})}),t.on("click",".release-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.setState({showReleaseModal:!0,target:t.trn_id})}),t.on("click",".delete-button",function(){var t=a.getDataTable().row($(this).parents("tr")).data();e.delete(t.trn_id)}),e.grid=a},closeEditModal:function(){this.setState({showEditModal:!1,target:null})},closeReleaseModal:function(){this.setState({showReleaseModal:!1,target:null})},openCreateModal:function(){this.setState({showCreateModal:!0})},openClosingModal:function(){this.setState({showClosingModal:!0})},delete:function(e){var t=this;confirm("Are you sure you want to delete this request?")&&(t.requestDelete=$.ajax({url:Routing.generate("ajax_delete_financial_assistance",{trnId:e}),type:"DELETE"}).done(function(e){t.reload()}))},handleFilterChange:function(){var e=this;clearTimeout(this.state.typingTimer),this.state.typingTimer=setTimeout(function(){e.reload()},this.state.doneTypingInterval)},reload:function(){null!=this.grid&&this.grid.getDataTable().ajax.reload()},isEmpty:function(e){return null==e||""==e||"undefined"==e||e<=0},render:function(){return console.log("active table"),console.log(this.state.activeTable),React.createElement("div",null,this.state.showReleaseModal&&React.createElement(FinancialAssistanceReleaseModal,{proId:this.state.filters.proId,trnId:this.state.target,show:this.state.showReleaseModal,notify:this.props.notify,reload:this.reload,onHide:this.closeReleaseModal}),this.state.showEditModal&&React.createElement(FinancialAssistanceEditModal,{proId:this.state.filters.proId,trnId:this.state.target,show:this.state.showEditModal,notify:this.props.notify,reload:this.reload,onHide:this.closeEditModal}),React.createElement("div",{className:"row",id:"fa_component"}),React.createElement("div",{className:"table-container",style:{marginTop:"20px"}},React.createElement("table",{id:"financial_assistance_table",className:"table table-striped table-bordered",width:"100%"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"No"),React.createElement("th",null,"Trn No"),React.createElement("th",null,"Trn Date"),React.createElement("th",null,"Applicant"),React.createElement("th",null,"Contact No"),React.createElement("th",null,"Beneficiary"),React.createElement("th",null,"Endorser"),React.createElement("th",null,"Municipality"),React.createElement("th",null,"Barangay"),React.createElement("th",null,"Granted Amt"),React.createElement("th",{width:"50px"})),React.createElement("tr",null,React.createElement("td",null),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"trn_no",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"trn_date",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"applicant_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"contact_no",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"beneficiary_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"endorsed_by",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"municipality_name",onChange:this.handleFilterChange})),React.createElement("td",{style:{padding:"10px 5px"}},React.createElement("input",{type:"text",className:"form-control form-filter input-sm",name:"barangay_name",onChange:this.handleFilterChange})),React.createElement("td",null),React.createElement("td",null))),React.createElement("tbody",null))))}});window.FinancialAssistanceDatatable=FinancialAssistanceDatatable;var FinancialAssistanceComponent=React.createClass({displayName:"FinancialAssistanceComponent",getInitialState:function(){return{showCreateModal:!1,showClosingModal:!1,showPostingModal:!1,activeTable:"TRANSACTIONS",startDate:null,endDate:null}},componentDidMount:function(){var e=moment().subtract(29,"days"),t=moment(),a=this;$("#reportrange").daterangepicker({startDate:e,endDate:t,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],"Last Year":[moment(moment().subtract(1,"year")).startOf("year"),moment(moment().subtract(1,"year")).endOf("year")],"This Year":[moment().startOf("year"),moment().endOf("year")]}},a.datetimeCallback),a.datetimeCallback(e,t)},datetimeCallback:function(e,t){var a=this,n=a.state.activeTable;$("#reportrange span").html(e.format("MMMM D, YYYY")+" - "+t.format("MMMM D, YYYY")),setTimeout(function(){a.setState({startDate:e.format("YYYY-MM-DD"),endDate:t.format("YYYY-MM-DD"),activeTable:n},a.reload)},1e3),a.setState({activeTable:null})},notify:function(e,t){$.notific8("zindex",11500),$.notific8(e,{heading:"System Message",color:t,life:5e3,verticalEdge:"right",horizontalEdge:"top"})},setActiveTable:function(e){this.setState({activeTable:e.target.value})},reload:function(){"TRANSACTIONS"==this.state.activeTable?this.refs.transactionTable.reload():"DAILY_SUMMARY"==this.state.activeTable&&this.refs.summaryTable.reload()},openCreateModal:function(){this.setState({showCreateModal:!0})},openClosingModal:function(){this.setState({showClosingModal:!0})},openPostingModal:function(){console.log("open posting modal"),this.setState({showPostingModal:!0})},closeCreateModal:function(){this.setState({showCreateModal:!1,target:null})},closeClosingModal:function(){this.setState({showClosingModal:!1})},closePostingModal:function(){this.setState({showPostingModal:!1})},render:function(){var e=this;return React.createElement("div",{className:"portlet light portlet-fit bordered"},React.createElement("div",{className:"portlet-body"},this.state.showCreateModal&&React.createElement(FinancialAssistanceCreateModal,{proId:3,show:this.state.showCreateModal,notify:this.props.notify,reload:this.reload,onHide:this.closeCreateModal}),this.state.showClosingModal&&React.createElement(FinancialAssistanceClosingModal,{proId:3,show:this.state.showClosingModal,notify:this.props.notify,reload:this.reload,onHide:this.closeClosingModal}),this.state.showPostingModal&&React.createElement(FinancialAssistancePostingModal,{proId:3,show:this.state.showPostingModal,notify:this.props.notify,reload:this.reload,onHide:this.closePostingModal}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-7"},React.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.openCreateModal},"New Assistance"),React.createElement("button",{type:"button",className:"btn btn-primary",style:{marginLeft:"10px"},onClick:this.openClosingModal},"Close Transactions"),React.createElement("button",{type:"button",className:"btn btn-primary",style:{marginLeft:"10px"},onClick:this.openPostingModal},"Post Transactions")),React.createElement("div",{className:"col-md-3"},React.createElement("div",{id:"reportrange",className:"form-control",style:{background:"#fff",cursor:"pointer",padding:"5px 10px",border:"1px solid #ccc",width:"100%"}},React.createElement("i",{class:"fa fa-calendar"})," ",React.createElement("span",null)," ",React.createElement("i",{class:"fa fa-caret-down"}))),React.createElement("div",{className:"col-md-2"},React.createElement("select",{className:"form-control",onChange:this.setActiveTable,value:this.state.activeTable,name:"activeTable"},React.createElement("option",{value:"TRANSACTIONS"},"Transactions"),React.createElement("option",{value:"DAILY_SUMMARY"},"Daily Closing"),React.createElement("option",{value:"DAILY_SUMMARY_REPORT"},"Daily Summary Report"),React.createElement("option",{value:"MUNICIPALITY_SUMMARY_REPORT"},"Municipality Summary Report"),React.createElement("option",{value:"MONTHLY_SUMMARY_REPORT"},"Monthly Summary Report")))),"TRANSACTIONS"==this.state.activeTable?React.createElement(FinancialAssistanceDatatable,{ref:"transactionTable",notify:this.notify}):null,"DAILY_SUMMARY"==this.state.activeTable?React.createElement(FinancialAssistanceDailySummaryDatatable,{ref:"summaryTable",notify:this.notify}):null,"DAILY_SUMMARY_REPORT"==this.state.activeTable?React.createElement(FinancialAssistanceDailySummaryReportDatatable,{startDate:e.state.startDate,endDate:e.state.endDate,ref:"reportSummaryTable",notify:this.notify}):null,"MUNICIPALITY_SUMMARY_REPORT"==this.state.activeTable?React.createElement(FinancialAssistanceMunicipalitySummaryReportDatatable,{startDate:e.state.startDate,endDate:e.state.endDate,ref:"municipalitySummaryTable",notify:this.notify}):null,"MONTHLY_SUMMARY_REPORT"==this.state.activeTable?React.createElement(FinancialAssistanceMonthlySummaryReportDatatable,{startDate:e.state.startDate,endDate:e.state.endDate,ref:"monthlySummaryTable",notify:this.notify}):null))}});setTimeout(function(){ReactDOM.render(React.createElement(FinancialAssistanceComponent,null),document.getElementById("page-container"))},500);